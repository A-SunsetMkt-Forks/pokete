<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pokete API documentation</title>
<meta name="description" content="This software is licensed under the GPL3
You should have gotten an copy of the GPL3 license anlonside this software
Feel free to contribute what ever â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pokete</code></h1>
</header>
<section id="section-intro">
<p>This software is licensed under the GPL3
You should have gotten an copy of the GPL3 license anlonside this software
Feel free to contribute what ever you want to this game
New Pokete contributions are especially welcome
For this see the comments in the definations area
You can contribute here: <a href="https://github.com/lxgr-linux/pokete">https://github.com/lxgr-linux/pokete</a>
Thanks to MaFeLP for your code review and your great feedback</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3
&#34;&#34;&#34;This software is licensed under the GPL3
You should have gotten an copy of the GPL3 license anlonside this software
Feel free to contribute what ever you want to this game
New Pokete contributions are especially welcome
For this see the comments in the definations area
You can contribute here: https://github.com/lxgr-linux/pokete
Thanks to MaFeLP for your code review and your great feedback&#34;&#34;&#34;

import random
import time
import os
import sys
import threading
import math
import socket
import json
import logging
from pathlib import Path
import scrap_engine as se
import pokete_data as p_data
from pokete_classes import animations
from pokete_classes.poke import Poke
from pokete_classes.color import Color
from pokete_classes.ui_elements import StdFrame2, Box, ChooseBox, InfoBox, BetterChooseBox
from pokete_classes.classes import PlayMap
from pokete_classes.settings import settings, VisSetting
from pokete_classes.inv_items import invitems, LearnDisc
from pokete_classes.types import types
from pokete_classes.buy import Buy
from pokete_classes.side_loops import ResizeScreen, LoadingScreen, About, Help
from pokete_classes.input import text_input, ask_bool, ask_text, ask_ok
from pokete_classes.mods import ModError, ModInfo, DummyMods
from pokete_classes.movemap import Movemap
from pokete_classes.fightmap import FightMap, FightItems
from pokete_classes.detail import Informer, Detail
from pokete_classes.learnattack import LearnAttack
from pokete_classes.roadmap import RoadMap
from pokete_classes.npcs import NPC, Trainer
from pokete_classes.notify import notifier
from pokete_classes.achievements import achievements, AchievementOverview
from pokete_classes.event import _ev
from pokete_classes.dex import Dex
from pokete_general_use_fns import liner, sort_vers, std_loop, parse_args
from release import VERSION, CODENAME, SAVEPATH


__t = time.time()


# Class definition
##################

class HightGrass(se.Object):
    &#34;&#34;&#34;Object on the map, that triggers a fight&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Action triggers the fight
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        if random.randint(0, 8) == 0:
            fight(Poke(&#34;__fallback__&#34;, 0)
                  if len([poke for poke in figure.pokes[:6]
                          if poke.hp &gt; 0]) == 0
                  else [poke for poke in figure.pokes[:6] if poke.hp &gt; 0][0],
                  Poke(random.choices(self.arg_proto[&#34;pokes&#34;],
                                      weights=[p_data.pokes[i][&#34;rarity&#34;]
                                               for i in
                                               self.arg_proto[&#34;pokes&#34;]])[0],
                       random.choices(list(range(self.arg_proto[&#34;minlvl&#34;],
                                                 self.arg_proto[&#34;maxlvl&#34;])))[0],
                       player=False, shiny=(random.randint(0, 500) == 0)))
            check_walk_back()


class Meadow(se.Text):
    &#34;&#34;&#34;Daughter of se.Text to better organize Highgrass
    ARGS:
        string: The character representing the meadow
        poke_args: Dict containing relevant information about Pokes&#34;&#34;&#34;
    esccode = Color.green

    def __init__(self, string, poke_args):
        super().__init__(string, ignore=self.esccode + &#34; &#34; + Color.reset,
                         ob_class=HightGrass, ob_args=poke_args,
                         state=&#34;float&#34;, esccode=self.esccode)


class Water(Meadow):
    &#34;&#34;&#34;Same as Meadow, but for Water&#34;&#34;&#34;
    esccode = Color.blue


class Poketeball(se.Object):
    &#34;&#34;&#34;Poketeball that can be picked up on the map
    ARGS:
        name: Generic name of the ball&#34;&#34;&#34;

    def __init__(self, name):
        self.name = name
        super().__init__(Color.thicc + Color.red + &#34;o&#34; + Color.reset,
                         state=&#34;float&#34;)

    def action(self, ob):
        &#34;&#34;&#34;Action triggers the pick up
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        amount = random.choices([1, 2, 3],
                                weights=[10, 2, 1], k=1)[0]
        item = random.choices([&#34;poketeball&#34;, &#34;hyperball&#34;, &#34;superball&#34;,
                               &#34;healing_potion&#34;],
                              weights=[10, 1.5, 1, 1],
                              k=1)[0]
        figure.give_item(item, amount)
        self.remove()
        movemap.full_show()
        ask_ok(movemap, f&#34;You found {amount if amount &gt; 1 else &#39;a&#39;} \
{p_data.items[item][&#39;pretty_name&#39;]}{&#39;s&#39; if amount &gt; 1 else &#39;&#39;}!&#34;)
        figure.used_npcs.append(self.name)


class NPCActions:
    &#34;&#34;&#34;This class contains all functions callable by NPCs
    All this methods follow the same pattern:
        ARGS:
            npc: The NPC the method belongs to&#34;&#34;&#34;

    @staticmethod
    def swap_poke(npc):
        &#34;&#34;&#34;Swap_poke wrapper&#34;&#34;&#34;
        swap_poke()

    @staticmethod
    def heal(npc):
        &#34;&#34;&#34;Heal wrapper&#34;&#34;&#34;
        heal()

    @staticmethod
    def playmap_17_boy(npc):
        &#34;&#34;&#34;Interaction with boy&#34;&#34;&#34;
        if &#34;choka&#34; in [i.identifier for i in figure.pokes[:6]]:
            npc.text([&#34; &lt; Oh, cool!&#34;, &#34; &lt; You have a Choka!&#34;,
                      &#34; &lt; I&#39;ve never seen one before!&#34;,
                      &#34; &lt; Here you go, 200$&#34;])
            if ask_bool(movemap,
                        &#34;Young boy gifted you 200$. Do you want to accept it?&#34;):
                figure.add_money(200)
            npc.will = False
            figure.used_npcs.append(npc.name)
        else:
            npc.text([&#34; &lt; In this region lives the wÃ¼rgos Pokete.&#34;,
                      f&#34; &lt; At level {p_data.pokes[&#39;wÃ¼rgos&#39;][&#39;evolve_lvl&#39;]} \
it evolves to Choka.&#34;,
                      &#34; &lt; I have never seen one before!&#34;])

    @staticmethod
    def playmap_20_trader(npc):
        &#34;&#34;&#34;Interaction with trader&#34;&#34;&#34;
        if ask_bool(movemap, &#34;Do you want to trade a Pokete?&#34;):
            if (index := deck(6, &#34;Your deck&#34;, True)) is None:
                return
            figure.add_poke(Poke(&#34;ostri&#34;, 500), index)
            figure.used_npcs.append(npc.name)
            ask_ok(movemap,
                   f&#34;You received: {figure.pokes[index].name.capitalize()} \
at level {figure.pokes[index].lvl()}.&#34;)
            movemap.text(npc.x, npc.y, [&#34; &lt; Cool, huh?&#34;])

    @staticmethod
    def playmap_23_npc_8(npc):
        &#34;&#34;&#34;Interaction with npc_8&#34;&#34;&#34;
        if ask_bool(movemap,
                    &#34;The man gifted you 100$. Do you want to accept it?&#34;):
            npc.will = False
            figure.used_npcs.append(npc.name)
            figure.add_money(100)

    @staticmethod
    def playmap_10_old_man(npc):
        &#34;&#34;&#34;Interaction with ld_man&#34;&#34;&#34;
        npc.give(&#34;Old man&#34;, &#34;hyperball&#34;)

    @staticmethod
    def playmap_29_ld_man(npc):
        &#34;&#34;&#34;Interaction with ld_man&#34;&#34;&#34;
        npc.give(&#34;The man&#34;, &#34;ld_flying&#34;)

    @staticmethod
    def playmap_32_npc_12(npc):
        &#34;&#34;&#34;Interaction with npc_12&#34;&#34;&#34;
        npc.give(&#34;Old man&#34;, &#34;hyperball&#34;)

    @staticmethod
    def playmap_36_npc_14(npc):
        &#34;&#34;&#34;Interaction with npc_14&#34;&#34;&#34;
        npc.give(&#34;Old woman&#34;, &#34;ap_potion&#34;)

    @staticmethod
    def playmap_37_npc_15(npc):
        &#34;&#34;&#34;Interaction with npc_14&#34;&#34;&#34;
        npc.give(&#34;Bert the bird&#34;, &#34;super_potion&#34;)


class CenterInteract(se.Object):
    &#34;&#34;&#34;Triggers a conversation in the Pokete center&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Triggers the interaction in the Pokete center
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        _ev.clear()
        movemap.full_show()
        movemap.text(int(movemap.width / 2), 3,
                     [&#34; &lt; Welcome to the Pokete-Center&#34;,
                      &#34; &lt; What do you want to do?&#34;,
                      &#34; &lt; a: See your full deck\n b: Heal all your Poketes\
\n c: Go&#34;])
        while True:
            if _ev.get() == &#34;&#39;a&#39;&#34;:
                _ev.clear()
                while &#34;__fallback__&#34; in [p.identifier for p in figure.pokes]:
                    figure.pokes.pop([p.identifier for p in
                                      figure.pokes].index(&#34;__fallback__&#34;))
                movemap.balls_label_rechar(figure.pokes)
                deck(len(figure.pokes))
                break
            elif _ev.get() == &#34;&#39;b&#39;&#34;:
                _ev.clear()
                heal()
                time.sleep(0.5)
                movemap.text(int(movemap.width / 2), 3, [&#34; &lt; ...&#34;,
                                                         &#34; &lt; Your Poketes are \
now healed!&#34;])
                break
            elif _ev.get() == &#34;&#39;c&#39;&#34;:
                _ev.clear()
                break
            std_loop()
            time.sleep(0.05)
        movemap.full_show(init=True)


class ShopInteract(se.Object):
    &#34;&#34;&#34;Triggers an conversation in the shop&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Triggers an interaction in the shop
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        _ev.clear()
        movemap.full_show()
        movemap.text(int(movemap.width / 2), 3,
                     [&#34; &lt; Welcome to the Pokete-Shop&#34;,
                      &#34; &lt; Wanna buy something?&#34;])
        buy()
        movemap.full_show(init=True)
        movemap.text(int(movemap.width / 2), 3, [&#34; &lt; Have a great day!&#34;])


class CenterMap(PlayMap):
    &#34;&#34;&#34;Contains all relevant objects for centermap
    ARGS:
        _he: The maps height
        _wi: The maps width&#34;&#34;&#34;

    def __init__(self, _he, _wi):
        super().__init__(_he, _wi, name=&#34;centermap&#34;,
                         pretty_name=&#34;Pokete-Center&#34;)
        self.inner = se.Text(&#34;&#34;&#34; ________________
 |______________|
 |     |a |     |
 |     Â¯ Â¯Â¯     |
 |              |
 |______  ______|
 |_____|  |_____|&#34;&#34;&#34;, ignore=&#34; &#34;)

        self.interact = CenterInteract(&#34;Â¯&#34;, state=&#34;float&#34;)
        self.dor_back1 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        self.dor_back2 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        self.trader = NPC(&#34;trader&#34;,
                          [&#34; &lt; I&#39;m a trader.&#34;,
                           &#34; &lt; Here you can trade one of your Poketes for \
another players&#39; one.&#34;],
                          &#34;swap_poke&#34;)
        # adding
        self.dor_back1.add(self, int(self.width / 2), 8)
        self.dor_back2.add(self, int(self.width / 2) + 1, 8)
        self.inner.add(self, int(self.width / 2) - 8, 1)
        self.interact.add(self, int(self.width / 2), 4)
        self.trader.add(self, int(self.width / 2) - 6, 3)


class ShopMap(PlayMap):
    &#34;&#34;&#34;Contains all relevant objects for shopmap
    ARGS:
        _he: The maps height
        _wi: The maps width &#34;&#34;&#34;

    def __init__(self, _he, _wi):
        super().__init__(_he, _wi, name=&#34;shopmap&#34;,
                         pretty_name=&#34;Pokete-Shop&#34;)
        self.inner = se.Text(&#34;&#34;&#34; __________________
 |________________|
 |      |a |      |
 |      Â¯ Â¯Â¯      |
 |                |
 |_______  _______|
 |______|  |______|&#34;&#34;&#34;, ignore=&#34; &#34;)
        self.interact = ShopInteract(&#34;Â¯&#34;, state=&#34;float&#34;)
        self.dor_back1 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        self.dor_back2 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        # adding
        self.dor_back1.add(self, int(self.width / 2), 8)
        self.dor_back2.add(self, int(self.width / 2) + 1, 8)
        self.inner.add(self, int(self.width / 2) - 9, 1)
        self.interact.add(self, int(self.width / 2), 4)


class CenterDor(se.Object):
    &#34;&#34;&#34;Dor class for the map to enter centers and shops&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Trigger
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        ob.remove()
        i = ob.map.name
        ob.add(ob.oldmap,
               ob.oldmap.dor.x
               if ob.map == centermap
               else ob.oldmap.shopdor.x,
               ob.oldmap.dor.y + 1
               if ob.map == centermap
               else ob.oldmap.shopdor.y + 1)
        ob.oldmap = ob_maps[i]
        game(ob.map)


class Dor(se.Object):
    &#34;&#34;&#34;Dor class for the map to enter other maps&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Trigger
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        ob.remove()
        i = ob.map.name
        ob.add(ob_maps[self.arg_proto[&#34;map&#34;]], self.arg_proto[&#34;x&#34;],
               self.arg_proto[&#34;y&#34;])
        ob.oldmap = ob_maps[i]
        game(ob_maps[self.arg_proto[&#34;map&#34;]])


class DorToCenter(Dor):
    &#34;&#34;&#34;Dor that leads to the Pokete center&#34;&#34;&#34;

    def __init__(self):
        super().__init__(&#34;#&#34;, state=&#34;float&#34;,
                         arg_proto={&#34;map&#34;: &#34;centermap&#34;,
                                    &#34;x&#34;: int(centermap.width / 2), &#34;y&#34;: 7})

    def action(self, ob):
        &#34;&#34;&#34;Triggers the dor
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        ob.last_center_map = ob.map
        super().action(ob)


class DorToShop(Dor):
    &#34;&#34;&#34;Dor that leads to the shop&#34;&#34;&#34;

    def __init__(self):
        super().__init__(&#34;#&#34;, state=&#34;float&#34;,
                         arg_proto={&#34;map&#34;: &#34;shopmap&#34;,
                                    &#34;x&#34;: int(shopmap.width / 2), &#34;y&#34;: 7})


class ChanceDor(Dor):
    &#34;&#34;&#34;Same as dor but with a chance&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Trigger
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        if random.randint(0, self.arg_proto[&#34;chance&#34;]) == 0:
            super().action(ob)


class Figure(se.Object):
    &#34;&#34;&#34;The figure that moves around on the map and represents the player
    ARGS:
        _si: session_info dict&#34;&#34;&#34;

    def __init__(self, _si):
        super().__init__(&#34;a&#34;, state=&#34;solid&#34;)
        self.__money = _si.get(&#34;money&#34;, 10)
        self.inv = _si.get(&#34;inv&#34;, {&#34;poketeballs&#34;: 10})
        self.name = _si.get(&#34;user&#34;, &#34;DEFAULT&#34;)
        self.pokes = [Poke((_p := _si[&#34;pokes&#34;][poke])[&#34;name&#34;], _p[&#34;xp&#34;],
                           _p[&#34;hp&#34;], _p[&#34;ap&#34;], _p.get(&#34;attacks&#34;, None),
                           _p.get(&#34;effects&#34;, []),
                           shiny=_p.get(&#34;shiny&#34;, False))
                      for poke in _si[&#34;pokes&#34;]]
        self.caught_pokes = _si.get(&#34;caught_poketes&#34;, [])
        self.visited_maps = _si.get(&#34;visited_maps&#34;, [&#34;playmap_1&#34;])
        self.used_npcs = _si.get(&#34;used_npcs&#34;, [])
        self.last_center_map = ob_maps[_si.get(&#34;last_center_map&#34;, &#34;playmap_1&#34;)]
        self.oldmap = ob_maps[_si.get(&#34;oldmap&#34;, &#34;playmap_1&#34;)]
        self.direction = &#34;t&#34;

    def set_args(self, _si):
        &#34;&#34;&#34;Processes data from save file
        ARGS:
            _si: session_info dict&#34;&#34;&#34;
        try:
            # Looking if figure would be in centermap,
            # so the player may spawn out of the center
            if _si[&#34;map&#34;] in [&#34;centermap&#34;, &#34;shopmap&#34;]:
                _map = ob_maps[_si[&#34;map&#34;]]
                self.add(_map, _map.dor_back1.x, _map.dor_back1.y - 1)
            else:
                if self.add(ob_maps[_si[&#34;map&#34;]], _si[&#34;x&#34;], _si[&#34;y&#34;]) == 1:
                    raise se.CoordinateError(self, ob_maps[_si[&#34;map&#34;]],
                                             _si[&#34;x&#34;], _si[&#34;y&#34;])
        except se.CoordinateError:
            self.add(ob_maps[&#34;playmap_1&#34;], 6, 5)
        movemap.name_label.rechar(self.name, esccode=Color.thicc)
        movemap.code_label.rechar(self.map.pretty_name)
        movemap.balls_label_rechar(self.pokes)
        movemap.add_obs()

    def add_money(self, money):
        &#34;&#34;&#34;Adds money
        ARGS:
            money: Amount of money beeing added&#34;&#34;&#34;
        self.set_money(self.__money + money)

    def get_money(self):
        &#34;&#34;&#34;Getter for __money
        RETURNS:
            The current money&#34;&#34;&#34;
        return self.__money

    def set_money(self, money):
        &#34;&#34;&#34;Sets the money to a certain value
        ARGS:
            money: New value&#34;&#34;&#34;
        assert money &gt;= 0, &#34;money has to be positive&#34;
        logging.info(&#34;[Figure] Money set to %d$ from %d$&#34;,
                     money, self.__money)
        self.__money = money
        for cls in [inv, buy]:
            cls.money_label.rechar(str(self.__money) + &#34;$&#34;)
            cls.box.set_ob(cls.money_label,
                           cls.box.width - 2 - len(cls.money_label.text), 0)

    def add_poke(self, poke, idx=None):
        &#34;&#34;&#34;Adds a Pokete to the players Poketes
        ARGS:
            poke: Poke object beeing added
            idx: Index of the Poke&#34;&#34;&#34;
        poke.set_player(True)
        figure.caught_pokes.append(poke.identifier)
        if idx is None:
            self.pokes.append(poke)
        else:
            self.pokes[idx] = poke
        logging.info(&#34;[Figure] Added Poke %s&#34;, poke.name)

    def give_item(self, item, amount=1):
        &#34;&#34;&#34;Gives an item to the player&#34;&#34;&#34;
        assert amount &gt; 0, &#34;Amounts have to be positive&#34;
        if item not in self.inv:
            self.inv[item] = amount
        else:
            self.inv[item] += amount
        logging.info(&#34;[Figure] %d %s(s) given&#34;, amount, item)

    def has_item(self, item):
        &#34;&#34;&#34;Checks if an item is already present
        ARGS:
            item: Generic item name
        RETURNS:
            If the player has this item&#34;&#34;&#34;
        return item in self.inv and self.inv[item] &gt; 0

    def remove_item(self, item, amount=1):
        &#34;&#34;&#34;Removes a certain amount of an item from the inv
        ARGS:
            item: Generic item name
            amount: Amount of items beeing removed&#34;&#34;&#34;
        assert amount &gt; 0, &#34;Amounts have to be positive&#34;
        assert item in self.inv, f&#34;Item {item} is not in the inventory&#34;
        assert self.inv[item] - amount &gt;= 0, f&#34;There are not enought {item}s \
in the inventory&#34;
        self.inv[item] -= amount
        logging.info(&#34;[Figure] %d %s(s) removed&#34;, amount, item)


class Debug:
    &#34;&#34;&#34;Debug class&#34;&#34;&#34;

    @classmethod
    def pos(cls):
        &#34;&#34;&#34;Prints the figures&#39; position&#34;&#34;&#34;
        print(figure.x, figure.y, figure.map.name)


class Deck(Informer):
    &#34;&#34;&#34;Deck to see Poketes in&#34;&#34;&#34;

    def __init__(self):
        self.map = se.Map(height - 1, width, &#34; &#34;)
        self.submap = se.Submap(self.map, 0, 0, height=height - 1, width=width)
        self.exit_label = se.Text(&#34;1: Exit  &#34;)
        self.move_label = se.Text(&#34;2: Move    &#34;)
        self.move_free = se.Text(&#34;3: Free&#34;)
        self.index = se.Object(&#34;*&#34;)
        # adding
        self.exit_label.add(self.submap, 0, self.submap.height - 1)
        self.move_label.add(self.submap, 9, self.submap.height - 1)
        self.move_free.add(self.submap, 20, self.submap.height - 1)

    def rem_pokes(self, pokes):
        &#34;&#34;&#34;Removes all Poketes from the Deck
        ARGS:
            pokes: List of Pokes beeing removed&#34;&#34;&#34;
        for poke in pokes:
            self.remove(poke)

    def __call__(self, p_len, label=&#34;Your full deck&#34;, in_fight=False):
        &#34;&#34;&#34;Opens the deck
        ARGS:
            p_len: Number of Pokes beeing included
            label: The displayed label
            in_fight: Whether or not this is called in a fight&#34;&#34;&#34;
        _ev.clear()
        pokes = figure.pokes[:p_len]
        ret_action = None
        self.map.resize(5 * int((len(pokes) + 1) / 2) + 2, width,
                        self.map.background)
        # decksubmap.resize(height-1, width)
        se.Text(label, esccode=Color.thicc).add(self.map, 2, 0)
        se.Square(&#34;|&#34;, 1, self.map.height - 2).add(self.map,
                                                   round(self.map.width / 2),
                                                   1)
        StdFrame2(self.map.height - 1, self.map.width).add(self.map, 0, 0)
        self.move_label.rechar(&#34;2: Move    &#34;)
        indici = []
        self.add_all(pokes, True)
        self.index.index = 0
        if len(pokes) &gt; 0:
            self.index.add(self.map,
                           pokes[self.index.index].text_name.x
                            + len(pokes[self.index.index].text_name.text)
                            + 1,
                           pokes[self.index.index].text_name.y)
        self.submap.full_show(init=True)
        while True:
            if _ev.get() in [&#34;&#39;1&#39;&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                _ev.clear()
                self.rem_pokes(pokes)
                while len(self.map.obs) &gt; 0:
                    self.map.obs[0].remove()
                self.submap.set(0, 0)
                if ret_action is not None:
                    abb_funcs[ret_action](pokes[self.index.index])
                return None
            elif _ev.get() == &#34;&#39;2&#39;&#34;:
                _ev.clear()
                if len(pokes) == 0:
                    continue
                if not indici:
                    indici.append(self.index.index)
                    self.move_label.rechar(&#34;2: Move to &#34;)
                else:
                    indici.append(self.index.index)
                    figure.pokes[indici[0]], figure.pokes[indici[1]] = \
                        pokes[indici[1]], pokes[indici[0]]
                    pokes = figure.pokes[:p_len]
                    indici = []
                    self.rem_pokes(pokes)
                    self.index.set(0, self.map.height - 1)
                    self.add_all(pokes)
                    self.index.set(
                        pokes[self.index.index].text_name.x
                         + len(pokes[self.index.index].text_name.text) + 1,
                        pokes[self.index.index].text_name.y)
                    self.move_label.rechar(&#34;2: Move    &#34;)
                    self.submap.full_show()
            elif _ev.get() == &#34;&#39;3&#39;&#34;:
                _ev.clear()
                if ask_bool(self.submap, f&#34;Do you really want to free \
{figure.pokes[self.index.index].name}?&#34;):
                    self.rem_pokes(pokes)
                    figure.pokes[self.index.index] = Poke(&#34;__fallback__&#34;, 10, 0)
                    pokes = figure.pokes[:len(pokes)]
                    self.add_all(pokes)
                    self.index.set(
                        pokes[self.index.index].text_name.x
                         + len(pokes[self.index.index].text_name.text)
                         + 1,
                        pokes[self.index.index].text_name.y)
                    movemap.balls_label_rechar(figure.pokes)
            elif _ev.get() in [&#34;&#39;w&#39;&#34;, &#34;&#39;a&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;d&#39;&#34;]:
                self.control(pokes, _ev.get())
                _ev.clear()
            elif _ev.get() == &#34;Key.enter&#34;:
                _ev.clear()
                if len(pokes) == 0:
                    continue
                if in_fight:
                    if pokes[self.index.index].hp &gt; 0:
                        self.rem_pokes(pokes)
                        while len(self.map.obs) &gt; 0:
                            self.map.obs[0].remove()
                        self.submap.set(0, 0)
                        return self.index.index
                else:
                    self.rem_pokes(pokes)
                    ret_action = detail(pokes[self.index.index])
                    self.add_all(pokes)
                    if ret_action is not None:
                        _ev.set(&#34;&#39;q&#39;&#34;)
                        continue
                    self.submap.full_show(init=True)
            std_loop()
            if len(pokes) &gt; 0 and\
                    self.index.y - self.submap.y + 6 &gt; self.submap.height:
                self.submap.set(self.submap.x, self.submap.y + 1)
            elif len(pokes) &gt; 0 and self.index.y - 1 &lt; self.submap.y:
                self.submap.set(self.submap.x, self.submap.y - 1)
            time.sleep(0.05)
            self.submap.full_show()

    def add_all(self, pokes, init=False):
        &#34;&#34;&#34;Adds all Poketes to the deck
        ARGS:
            pokes: List of all Pokes beeing added
            init: Whether or not this happens for the first time&#34;&#34;&#34;
        j = 0
        for i, poke in enumerate(pokes):
            self.add(poke, figure, self.map,
                     1 if i % 2 == 0
                     else round(self.map.width / 2) + 1, j * 5 + 1)
            if i % 2 == 0 and init:
                se.Square(&#34;-&#34;, self.map.width - 2, 1).add(self.map, 1,
                                                          j * 5 + 5)
            if i % 2 == 1:
                j += 1

    def control(self, pokes, inp):
        &#34;&#34;&#34;Processes inputs
        ARGS:
            pokes: List of all Pokes in deck
            inp: Inputted string&#34;&#34;&#34;
        if len(pokes) &lt;= 1:
            return
        for con, stat, fir, sec in zip([&#34;&#39;a&#39;&#34;, &#34;&#39;d&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;],
                                       [self.index.index != 0,
                                        self.index.index != len(pokes) - 1,
                                        self.index.index + 2 &lt; len(pokes),
                                        self.index.index - 2 &gt;= 0],
                                       [-1, 1, 2, -2],
                                       [len(pokes) - 1, 0,
                                        self.index.index % 2,
                                        [i for i in range(len(pokes))
                                            if i % 2 ==
                                            self.index.index % 2][-1]]):
            if inp == con:
                if stat:
                    self.index.index += fir
                else:
                    self.index.index = sec
                break
        self.index.set(pokes[self.index.index].text_name.x
                        + len(pokes[self.index.index].text_name.text) + 1,
                       pokes[self.index.index].text_name.y)


class Inv:
    &#34;&#34;&#34;Inventory to see and manage items in
    ARGS:
        _map: se.Map this will be shown on&#34;&#34;&#34;

    def __init__(self, _map):
        self.map = _map
        self.box = ChooseBox(_map.height - 3, 35, &#34;Inventory&#34;, &#34;R:remove&#34;)
        self.box2 = Box(7, 21)
        self.money_label = se.Text(f&#34;{figure.get_money()}$&#34;)
        self.desc_label = se.Text(&#34; &#34;)
        # adding
        self.box.add_ob(self.money_label,
                        self.box.width - 2 - len(self.money_label.text), 0)
        self.box2.add_ob(self.desc_label, 1, 1)

    def __call__(self):
        &#34;&#34;&#34;Opens the inventory&#34;&#34;&#34;
        _ev.clear()
        items = self.add()
        with self.box.add(self.map, self.map.width - 35, 0):
            while True:
                if _ev.get() in [&#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;]:
                    self.box.input(_ev.get())
                    _ev.clear()
                elif _ev.get() in [&#34;&#39;4&#39;&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                    break
                elif _ev.get() == &#34;Key.enter&#34;:
                    obj = items[self.box.index.index]
                    self.box2.name_label.rechar(obj.pretty_name)
                    self.desc_label.rechar(liner(obj.desc, 19))
                    self.box2.add(self.map, self.box.x - 19, 3)
                    _ev.clear()
                    while True:
                        if _ev.get() == &#34;exit&#34;:
                            raise KeyboardInterrupt
                        elif _ev.get() in [&#34;Key.enter&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                            _ev.clear()
                            self.box2.remove()
                            if type(obj) is LearnDisc:
                                if ask_bool(self.map, f&#34;Do you want to teach &#39;\
{obj.attack_dict[&#39;name&#39;]}&#39;?&#34;):
                                    ex_cond = True
                                    while ex_cond:
                                        index = deck(6, label=&#34;Your deck&#34;,
                                                     in_fight=True)
                                        if index is None:
                                            ex_cond = False
                                            self.map.show(init=True)
                                            break
                                        poke = figure.pokes[index]
                                        if getattr(types,
                                                   obj.attack_dict[&#39;types&#39;][0])\
                                                in poke.types:
                                            break
                                        else:
                                            ex_cond = ask_bool(self.map,
                                                               f&#34;You cant&#39;t \
teach &#39;{obj.attack_dict[&#39;name&#39;]}&#39; to &#39;{poke.name}&#39;! \nDo you want to continue?&#34;)
                                    if not ex_cond:
                                        break
                                    if LearnAttack(poke, self.map)\
                                            (obj.attack_name):
                                        items = self.rem_item(obj.name, items)
                                        if len(items) == 0:
                                            break
                                    _ev.clear()
                            break
                        time.sleep(0.05)
                        self.map.show()
                elif _ev.get() == &#34;&#39;r&#39;&#34;:
                    if ask_bool(self.map,
                                f&#34;Do you really want to throw \
{items[self.box.index.index].pretty_name} away?&#34;):
                        items = self.rem_item(items[self.box.index.index].name,
                                              items)
                        if len(items) == 0:
                            break
                    _ev.clear()
                std_loop()
                time.sleep(0.05)
                self.map.show()
        self.box.remove_c_obs()

    def rem_item(self, name, items):
        &#34;&#34;&#34;Removes an item from the inv
        ARGS:
            name: Items name
            items: List of Items
        RETURNS:
            List of Items&#34;&#34;&#34;
        figure.remove_item(name)
        for obj in self.box.c_obs:
            obj.remove()
        self.box.remove_c_obs()
        items = self.add()
        if not items:
            return items
        if self.box.index.index &gt;= len(items):
            self.box.set_index(len(items) - 1)
        return items

    def add(self):
        &#34;&#34;&#34;Adds all items to the box
        RETURNS:
            List of Items&#34;&#34;&#34;
        items = [getattr(invitems, i) for i in figure.inv if figure.inv[i] &gt; 0]
        self.box.add_c_obs([se.Text(f&#34;{i.pretty_name}s : {figure.inv[i.name]}&#34;)
                            for i in items])
        return items


class Menu:
    &#34;&#34;&#34;Menu to manage settings and other stuff in
    ARGS:
        _map: se.Map this will be shown on&#34;&#34;&#34;

    def __init__(self, _map):
        self.map = _map
        self.box = ChooseBox(_map.height - 3, 35, &#34;Menu&#34;)
        self.playername_label = se.Text(&#34;Playername: &#34;, state=&#34;float&#34;)
        self.mods_label = se.Text(&#34;Mods&#34;, state=&#34;float&#34;)
        self.ach_label = se.Text(&#34;Achievements&#34;, state=&#34;float&#34;)
        self.about_label = se.Text(&#34;About&#34;, state=&#34;float&#34;)
        self.save_label = se.Text(&#34;Save&#34;, state=&#34;float&#34;)
        self.exit_label = se.Text(&#34;Exit&#34;, state=&#34;float&#34;)
        self.realname_label = se.Text(session_info[&#34;user&#34;], state=&#34;float&#34;)
        self.box.add_c_obs([self.playername_label,
                            VisSetting(&#34;Autosave&#34;, &#34;autosave&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            VisSetting(&#34;Animations&#34;, &#34;animations&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            VisSetting(&#34;Save trainers&#34;, &#34;save_trainers&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            VisSetting(&#34;Load mods&#34;, &#34;load_mods&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            self.mods_label, self.ach_label,
                            self.about_label, self.save_label,
                            self.exit_label])
        # adding
        self.box.add_ob(self.realname_label,
                        self.playername_label.rx
                        + len(self.playername_label.text),
                        self.playername_label.ry)

    def __call__(self):
        &#34;&#34;&#34;Opens the menu&#34;&#34;&#34;
        _ev.clear()
        self.realname_label.rechar(figure.name)
        with self.box.add(self.map, self.map.width - self.box.width, 0):
            while True:
                if _ev.get() == &#34;Key.enter&#34;:
                    _ev.clear()
                    # Fuck python for not having case statements
                    if (i := self.box.c_obs[self.box.index.index]) ==\
                            self.playername_label:
                        figure.name = text_input(self.realname_label,
                                                 self.map,
                                                 figure.name, 18, 17)
                        self.map.name_label_rechar(figure.name)
                    elif i == self.mods_label:
                        ModInfo(movemap, mods.mod_info)()
                    elif i == self.save_label:
                        # When will python3.10 come out?
                        with InfoBox(&#34;Saving....&#34;, info=&#34;&#34;, _map=self.map):
                            # Shows a box displaying &#34;Saving....&#34; while saving
                            save()
                            time.sleep(1.5)
                    elif i == self.exit_label:
                        save()
                        exiter()
                    elif i == self.about_label:
                        about()
                    elif i == self.ach_label:
                        AchievementOverview()(movemap)
                    else:
                        i.change()
                elif _ev.get() in [&#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;]:
                    self.box.input(_ev.get())
                    _ev.clear()
                elif _ev.get() in [&#34;&#39;e&#39;&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                    _ev.clear()
                    break
                std_loop()
                time.sleep(0.05)
                self.map.show()


# General use functions
#######################

def check_walk_back(self=None):
    &#34;&#34;&#34;Check whether the figure has to be walked back to the last Poketecenter
       or not&#34;&#34;&#34;
    if all(i.hp &lt;= 0 for i in figure.pokes[:6]):
        amount = round(figure.get_money() / 3)
        figure.add_money(-amount)
        heal()
        ask_ok(movemap, f&#34;&#34;&#34;All your Poketes have died and you ran
back to the last Pokecenter you visited, to heal them!
On the way there {amount}$ fell out of your pocket!&#34;&#34;&#34;)
        figure.remove()
        figure.map = figure.last_center_map
        logging.info(&#34;[Figure] Lost all Poketes and ran away&#34;)
        DorToCenter().action(figure)


def heal():
    &#34;&#34;&#34;Heals all poketes&#34;&#34;&#34;
    for poke in figure.pokes:
        poke.hp = poke.full_hp
        poke.effects = []
        poke.miss_chance = poke.full_miss_chance
        poke.text_hp.rechar(f&#34;HP:{poke.hp}&#34;)
        poke.set_vars()
        poke.hp_bar.make(poke.hp)
        movemap.balls_label_rechar(figure.pokes)


def autosave():
    &#34;&#34;&#34;Autosaves the game every 5 mins&#34;&#34;&#34;
    while True:
        time.sleep(300)
        if settings(&#34;autosave&#34;).val:
            save()


def save():
    &#34;&#34;&#34;Saves all relevant data to savefile&#34;&#34;&#34;
    _si = {
        &#34;user&#34;: figure.name,
        &#34;ver&#34;: VERSION,
        &#34;map&#34;: figure.map.name,
        &#34;oldmap&#34;: figure.oldmap.name,
        &#34;last_center_map&#34;: figure.last_center_map.name,
        &#34;x&#34;: figure.x,
        &#34;y&#34;: figure.y,
        &#34;achievements&#34;: achievements.achieved,
        &#34;pokes&#34;: {i: poke.dict() for i, poke in enumerate(figure.pokes)},
        &#34;inv&#34;: figure.inv,
        &#34;money&#34;: figure.get_money(),
        &#34;settings&#34;: settings.to_dict(),
        &#34;caught_poketes&#34;: list(dict.fromkeys(figure.caught_pokes
                                             + [i.identifier
                                                for i in figure.pokes])),
        &#34;visited_maps&#34;: figure.visited_maps,
        &#34;startup_time&#34;: __t,
        # filters doublicates from figure.used_npcs
        &#34;used_npcs&#34;: list(dict.fromkeys(figure.used_npcs))
    }
    with open(HOME + SAVEPATH + &#34;/pokete.json&#34;, &#34;w+&#34;) as file:
        # writes the data to the save file in a nice format
        json.dump(_si, file, indent=4)
    logging.info(&#34;[General] Saved&#34;)


def read_save():
    &#34;&#34;&#34;Reads form savefile
    RETURNS:
        session_info dict&#34;&#34;&#34;
    Path(HOME + SAVEPATH).mkdir(parents=True, exist_ok=True)
    # Default test session_info
    _si = {
        &#34;user&#34;: &#34;DEFAULT&#34;,
        &#34;ver&#34;: VERSION,
        &#34;map&#34;: &#34;intromap&#34;,
        &#34;oldmap&#34;: &#34;playmap_1&#34;,
        &#34;last_center_map&#34;: &#34;playmap_1&#34;,
        &#34;x&#34;: 4,
        &#34;y&#34;: 5,
        &#34;achievements&#34;: [],
        &#34;pokes&#34;: {
            &#34;0&#34;: {&#34;name&#34;: &#34;steini&#34;, &#34;xp&#34;: 50, &#34;hp&#34;: &#34;SKIP&#34;,
                  &#34;ap&#34;: [&#34;SKIP&#34;, &#34;SKIP&#34;]}
        },
        &#34;inv&#34;: {&#34;poketeball&#34;: 15, &#34;healing_potion&#34;: 1},
        &#34;settings&#34;: {
            &#34;load_mods&#34;: False},
        &#34;figure.caught_pokes&#34;: [&#34;steini&#34;],
        &#34;visited_maps&#34;: [&#34;playmap_1&#34;],
        &#34;startup_time&#34;: 0,
        &#34;used_npcs&#34;: []
    }

    if (not os.path.exists(HOME + SAVEPATH + &#34;/pokete.json&#34;)
        and os.path.exists(HOME + SAVEPATH + &#34;/pokete.py&#34;)):
        l_dict = {}
        with open(HOME + SAVEPATH + &#34;/pokete.py&#34;, &#34;r&#34;) as _file:
            exec(_file.read(), {&#34;session_info&#34;: _si}, l_dict)
        _si = json.loads(json.dumps(l_dict[&#34;session_info&#34;]))
    elif os.path.exists(HOME + SAVEPATH + &#34;/pokete.json&#34;):
        with open(HOME + SAVEPATH + &#34;/pokete.json&#34;) as _file:
            _si = json.load(_file)
    return _si


def on_press(key):
    &#34;&#34;&#34;Sets the _ev variable
    ARGS:
        key: Key object _ev is set from&#34;&#34;&#34;
    _ev.set(str(key))


def reset_terminal():
    &#34;&#34;&#34;Resets the terminals state&#34;&#34;&#34;
    if sys.platform == &#34;linux&#34;:
        termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)


def exiter():
    &#34;&#34;&#34;Exit function&#34;&#34;&#34;
    reset_terminal()
    logging.info(&#34;[General] Exiting...&#34;)
    sys.exit()


# Functions needed for movemap
##############################

def codes(string):
    &#34;&#34;&#34;Cheats&#34;&#34;&#34;
    for i in string:
        if i == &#34;w&#34;:
            save()
        elif i == &#34;!&#34;:
            exec(string[string.index(&#34;!&#34;) + 2:])
            return
        elif i == &#34;e&#34;:
            try:
                exec(string[string.index(&#34;e&#34;) + 2:])
            except Exception as exc:
                print(exc)
            return
        elif i == &#34;q&#34;:
            exiter()


# Playmap extra action functions
# Those are adding additional actions to playmaps
#################################################

class ExtraActions:
    &#34;&#34;&#34;Extra actions class to keep track of extra actions&#34;&#34;&#34;

    @staticmethod
    def water(obs):
        &#34;&#34;&#34;Water animation
        ARGS:
            obs: List of se.Objects that represent the water&#34;&#34;&#34;
        if settings(&#34;animations&#34;).val:
            for obj in obs:
                if random.randint(0, 9) == 0:
                    if &#34; &#34; not in obj.char:
                        obj.rechar([i for i in
                                    [Color.lightblue + &#34;~&#34; + Color.reset,
                                     Color.blue + &#34;~&#34; + Color.reset]
                                    if i != obj.char][0])
                        if obj.x == figure.x and obj.y == figure.y:
                            figure.redraw()

    @staticmethod
    def playmap_4():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_4&#34;].lake_1.obs)

    @staticmethod
    def playmap_11():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_11&#34;].lake_1.obs)

    @staticmethod
    def playmap_18():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_18&#34;].lake_1.obs)

    @staticmethod
    def playmap_21():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_21&#34;].lake_1.obs)

    @staticmethod
    def playmap_7():
        &#34;&#34;&#34;Cave animation&#34;&#34;&#34;
        for obj in ob_maps[&#34;playmap_7&#34;].inner_walls.obs\
                   + [i.main_ob for i in ob_maps[&#34;playmap_7&#34;].trainers]\
                   + [getattr(ob_maps[&#34;playmap_7&#34;], i)
                    for i in p_data.map_data[&#34;playmap_7&#34;][&#34;balls&#34;] if
                        &#34;playmap_7.&#34; + i not in figure.used_npcs or not save_trainers]:
            if obj.added and math.sqrt((obj.y - figure.y) ** 2
                                       + (obj.x - figure.x) ** 2) &lt;= 3:
                obj.rechar(obj.bchar)
            else:
                obj.rechar(&#34; &#34;)


# main functions
################

def test():
    &#34;&#34;&#34;test/demo for BetterChooseBox, until BetterChooseBox is actively used
       this will remain&#34;&#34;&#34;
    with BetterChooseBox(3, [se.Text(i, state=&#34;float&#34;) for i in [&#34;Hallo&#34;,
        &#34;Welt&#34;, &#34;Wie&#34;, &#34;Gehts&#34;, &#34;Dir&#34;, &#34;So&#34;, &#34;Du&#34;]],
        &#34;Test&#34;, _map=movemap) as a:
        while True:
            if _ev.get() in [&#34;&#39;w&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;a&#39;&#34;, &#34;&#39;d&#39;&#34;]:
                a.input(_ev.get())
                _ev.clear()
            elif _ev.get() in [&#34;&#39;q&#39;&#34;, &#34;Key.esc&#34;]:
                _ev.clear()
                break
            elif _ev.get() == &#34;&#39;t&#39;&#34;:
                _ev.clear()
                a.remove()
                a.set_items(3, [se.Text(i, state=&#34;float&#34;) for i in [&#34;test&#34;,
                    &#34;test&#34;, &#34;123&#34;, &#34;fuckthesystem&#34;]])
                a.center_add(a.map)
            std_loop()
            time.sleep(0.05)
            a.map.show()


def teleport(poke):
    &#34;&#34;&#34;Teleports the player to another towns pokecenter
    ARGS:
        poke: The Poke shown in the animation&#34;&#34;&#34;
    if (obj := roadmap(movemap, choose=True)) is None:
        return
    else:
        if settings(&#34;animations&#34;).val:
            animations.transition(movemap, poke)
        cen_d = p_data.map_data[obj.name][&#34;hard_obs&#34;][&#34;pokecenter&#34;]
        Dor(&#34;&#34;, state=&#34;float&#34;, arg_proto={&#34;map&#34;: obj.name,
                                          &#34;x&#34;: cen_d[&#34;x&#34;] + 5,
                                          &#34;y&#34;: cen_d[&#34;y&#34;] + 6}).action(figure)


def swap_poke():
    &#34;&#34;&#34;Trading with other players in the local network&#34;&#34;&#34;
    if not ask_bool(movemap, &#34;Do you want to trade with another trainer?&#34;):
        return
    port = 65432
    save()
    do = ask_bool(movemap, &#34;Do you want to be the host?&#34;)
    if (index := deck(6, &#34;Your deck&#34;, True)) is None:
        return
    if do:
        with InfoBox(f&#34;Hostname: {socket.gethostname()}\nWaiting...&#34;,
                     _map=movemap):
            host = &#39;&#39;
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
                sock.bind((host, port))
                sock.listen()
                conn = sock.accept()[0]
                with conn:
                    while True:
                        data = conn.recv(1024)
                        if not data:
                            break
                        decode_data = json.loads(data.decode())
                        conn.sendall(
                                str.encode(
                                    json.dumps(
                                        {&#34;mods&#34;: mods.mod_info,
                                         &#34;name&#34;: figure.name,
                                         &#34;poke&#34;: figure.pokes[index].dict()})))
    else:
        host = &#34;&#34;
        while host == &#34;&#34;:
            host = ask_text(movemap, &#34;Please type in the hosts hostname&#34;,
                            &#34;Host:&#34;, &#34;&#34;, &#34;Hostname&#34;, 30)
            if host in [&#34;localhost&#34;, &#34;127.0.0.1&#34;, &#34;0.0.0.0&#34;,
                        socket.gethostname()]:
                ask_ok(movemap,
                       &#34;You&#39;re not allowed trade with your self!\nYou fool!&#34;)
                host = &#34;&#34;
        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
            try:
                sock.connect((host, port))
            except Exception as err:
                ask_ok(movemap, str(err))
                return
            sock.sendall(
                    str.encode(
                        json.dumps({&#34;mods&#34;: mods.mod_info,
                                    &#34;name&#34;: figure.name,
                                    &#34;poke&#34;: figure.pokes[index].dict()})))
            data = sock.recv(1024)
            decode_data = json.loads(data.decode())
    logging.info(&#34;[Swap_poke] Recieved %s&#34;, decode_data)
    mod_info = decode_data.get(&#34;mods&#34;, {})
    if mods.mod_info != mod_info:
        ask_ok(movemap, f&#34;&#34;&#34;Conflicting mod versions!
Your mods: {&#39;, &#39;.join(i + &#39;-&#39; + mods.mod_info[i] for i in mods.mod_info)}
Your partners mods: {&#39;, &#39;.join(i + &#39;-&#39; + mod_info[i] for i in mod_info)}&#34;&#34;&#34;)
        return
    figure.add_poke(Poke(decode_data[&#34;poke&#34;][&#34;name&#34;],
                         decode_data[&#34;poke&#34;][&#34;xp&#34;],
                         decode_data[&#34;poke&#34;][&#34;hp&#34;]), index)
    figure.pokes[index].set_ap(decode_data[&#34;poke&#34;][&#34;ap&#34;])
    save()  # to avoid duping
    ask_ok(movemap,
           f&#34;You received: {figure.pokes[index].name.capitalize()} at level \
{figure.pokes[index].lvl()} from {decode_data[&#39;name&#39;]}.&#34;)


def fight(player, enemy, info=None):
    &#34;&#34;&#34;Wrapper for fightmap.fight
    ARGS:
        player: The players Poke
        enemy: The enemys Poke
        info: Dict containing info about the fight&#34;&#34;&#34;
    if info is None:
        info = {&#34;type&#34;: &#34;wild&#34;, &#34;player&#34;: &#34; &#34;}
    return fightmap.fight(player, enemy, figure, fightitems, deck, info)

def game(_map):
    &#34;&#34;&#34;Game function
    ARGS:
        _map: The map that will be shown&#34;&#34;&#34;
    global width, height
    _ev.clear()
    print(&#34;\033]0;Pokete - &#34; + _map.pretty_name + &#34;\a&#34;, end=&#34;&#34;)
    if _map.name not in figure.visited_maps:
        figure.visited_maps.append(_map.name)
    movemap.code_label.rechar(figure.map.pretty_name)
    movemap.set(0, 0)
    movemap.bmap = _map
    movemap.full_show()
    inp_dict = {&#34;&#39;1&#39;&#34;: [deck, (6, &#34;Your deck&#34;)],
                &#34;&#39;3&#39;&#34;: [roadmap, (movemap,)],
                &#34;&#39;4&#39;&#34;: [inv, ()],
                &#34;&#39;5&#39;&#34;: [pokete_dex, ()],
                &#34;&#39;e&#39;&#34;: [menu, ()],
                &#34;&#39;?&#39;&#34;: [help_page, ()]}
    while True:
        # Directions are not beening used yet
        for name, _dir, x, y in zip([&#34;&#39;w&#39;&#34;, &#34;&#39;a&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;d&#39;&#34;],
                                    [&#34;t&#34;, &#34;l&#34;, &#34;b&#34;, &#34;r&#34;],
                                    [0, -1, 0, 1], [-1, 0, 1, 0]):
            if _ev.get() == name:
                figure.direction = _dir
                figure.set(figure.x + x, figure.y + y)
                _ev.clear()
                break
        else:
            if _ev.get() in inp_dict:
                inp_dict[_ev.get()][0](*inp_dict[_ev.get()][1])
                _ev.clear()
                movemap.show(init=True)
            elif _ev.get() == &#34;&#39;2&#39;&#34;:
                _ev.clear()
                if ask_bool(movemap, &#34;Do you realy want to exit?&#34;):
                    save()
                    exiter()
            elif _ev.get() == &#34;&#39;:&#39;&#34;:
                _ev.clear()
                inp = text_input(movemap.code_label, movemap, &#34;:&#34;,
                                 movemap.width,
                                 (movemap.width - 2) * movemap.height - 1)[1:]
                movemap.code_label.outp(figure.map.pretty_name)
                codes(inp)
                _ev.clear()
        std_loop()
        notifier.next()
        _map.extra_actions()
        time.sleep(0.05)
        for statement, x, y in zip([figure.x + 6 &gt; movemap.x + movemap.width,
                                    figure.x &lt; movemap.x + 6,
                                    figure.y + 6 &gt; movemap.y + movemap.height,
                                    figure.y &lt; movemap.y + 6],
                                   [1, -1, 0, 0], [0, 0, 1, -1]):
            if statement:
                movemap.set(movemap.x + x, movemap.y + y)
        # checking for resizing
        width, height = os.get_terminal_size()
        if movemap.width != width or movemap.height != height - 1:
            movemap.resize(height - 1, width, &#34; &#34;)
        movemap.full_show()


def intro():
    &#34;&#34;&#34;Intro to Pokete&#34;&#34;&#34;
    movemap.set(0, 0)
    movemap.bmap = ob_maps[&#34;intromap&#34;]
    movemap.full_show()
    while figure.name in [&#34;DEFAULT&#34;, &#34;&#34;]:
        figure.name = ask_text(movemap,
                               &#34;Welcome to Pokete!\nPlease choose your name!\n&#34;,
                               &#34;Name:&#34;, &#34;&#34;, &#34;Name&#34;, 17)
    movemap.name_label_rechar(figure.name)
    movemap.text(4, 3, [&#34; &lt; Hello my child.&#34;,
                        &#34; &lt; You&#39;re now ten years old.&#34;,
                        &#34; &lt; And I think it&#39;s now time for you to travel the \
world and be a Pokete-trainer.&#34;,
                        &#34; &lt; Therefore I give you this powerfull &#39;Steini&#39;, \
15 &#39;Poketeballs&#39; to catch Poketes and a &#34;
                        &#34;&#39;Healing potion&#39;.&#34;,
                        &#34; &lt; You will be the best Pokete-Trainer in Nice town.&#34;,
                        &#34; &lt; Now go out and become the best!&#34;])
    game(ob_maps[&#34;intromap&#34;])


def parse_obj(_map, name, obj, _dict):
    &#34;&#34;&#34;Parses an object to a maps attribute and adds it
    ARGS:
        _map: The given PlayMap
        name: Name of the attribute
        obj: Object beeing set
        _dict: Dict containing info&#34;&#34;&#34;
    setattr(_map, name, obj)
    obj.add(_map, _dict[&#34;x&#34;], _dict[&#34;y&#34;])


def gen_obs():
    &#34;&#34;&#34;Genrates all objests on the maps&#34;&#34;&#34;
    map_data = p_data.map_data
    npcs = p_data.npcs
    trainers = p_data.trainers

    # adding all trainer to map
    for i in trainers:
        _map = ob_maps[i]
        for j in trainers[i]:
            args = j[&#34;args&#34;]
            trainer = Trainer(Poke(*j[&#34;poke&#34;], player=False),
                              *args[:-2], fight)
            trainer.add(_map, args[-2], args[-1])
            _map.trainers.append(trainer)

    # generating objects from map_data
    for ob_map in map_data:
        _map = ob_maps[ob_map]
        for hard_ob in map_data[ob_map][&#34;hard_obs&#34;]:
            parse_obj(_map, hard_ob,
                      se.Text(map_data[ob_map][&#34;hard_obs&#34;][hard_ob][&#34;txt&#34;],
                              ignore=&#34; &#34;),
                      map_data[ob_map][&#34;hard_obs&#34;][hard_ob])
        for soft_ob in map_data[ob_map][&#34;soft_obs&#34;]:
            parse_obj(_map, soft_ob,
                      Meadow(map_data[ob_map][&#34;soft_obs&#34;][soft_ob][&#34;txt&#34;],
                             _map.poke_args),
                      map_data[ob_map][&#34;soft_obs&#34;][soft_ob])
        for dor in map_data[ob_map][&#34;dors&#34;]:
            parse_obj(_map, dor,
                      Dor(&#34; &#34;, state=&#34;float&#34;,
                          arg_proto=map_data[ob_map][&#34;dors&#34;][dor][&#34;args&#34;]),
                      map_data[ob_map][&#34;dors&#34;][dor])
        for ball in map_data[ob_map][&#34;balls&#34;]:
            if f&#39;{ob_map}.{ball}&#39; not in figure.used_npcs or not \
            settings(&#34;save_trainers&#34;).val:
                parse_obj(_map, ball,
                          Poketeball(f&#34;{ob_map}.{ball}&#34;),
                          map_data[ob_map][&#34;balls&#34;][ball])
    # NPCs
    for npc in npcs:
        parse_obj(ob_maps[npcs[npc][&#34;map&#34;]], npc,
                  NPC(npc, npcs[npc][&#34;texts&#34;], npcs[npc][&#34;fn&#34;]),
                  npcs[npc])


def gen_maps():
    &#34;&#34;&#34;Generates all maps
    RETURNS:
        Dict of all PlayMaps&#34;&#34;&#34;
    maps = {}
    for ob_map in p_data.maps:
        args = p_data.maps[ob_map]
        args[&#34;extra_actions&#34;] = (getattr(ExtraActions, args[&#34;extra_actions&#34;],
                                         None)
                                 if args[&#34;extra_actions&#34;] is not None
                                 else None)
        maps[ob_map] = PlayMap(name=ob_map, **args)
    return maps


def check_version(sinfo):
    &#34;&#34;&#34;Checks if version in save file is the same as current version
    ARGS:
        sinfo: session_info dict&#34;&#34;&#34;
    if &#34;ver&#34; not in sinfo:
        return
    else:
        ver = sinfo[&#34;ver&#34;]
    if VERSION != ver and sort_vers([VERSION, ver])[-1] == ver:
        if not ask_bool(loading_screen.map,
                        liner(f&#34;The save file was created \
on version &#39;{ver}&#39;, the current version is &#39;{VERSION}&#39;, \
such a downgrade may result in data loss! \
Do you want to continue?&#34;, int(width * 2 / 3))):
            exiter()


def main():
    &#34;&#34;&#34;Main function&#34;&#34;&#34;
    os.system(&#34;&#34;)
    recognising = threading.Thread(target=recogniser)
    autosaveing = threading.Thread(target=autosave)
    recognising.daemon = True
    autosaveing.daemon = True
    recognising.start()
    autosaveing.start()
    check_version(session_info)
    if figure.name == &#34;DEFAULT&#34;:
        intro()
    game(figure.map)


def map_additions():
    &#34;&#34;&#34;Applies additions to the maps&#34;&#34;&#34;

    # playmap_1
    _map = ob_maps[&#34;playmap_1&#34;]
    _map.dor = DorToCenter()
    # adding
    _map.dor.add(_map, 25, 4)

    # cave_1
    _map = ob_maps[&#34;cave_1&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;##########################################
##        ################################
#         ################################
#         ######################        ##
#                    ###########   #######
#         #########  ###########   #######
#         #########  ###########   #######
###################  ###########   #######
##############                     #######
##############                     #######
##############  ##########################
##############  ##########################
########        ##########################
#######  ###    ##########################
#######  ###    ##########################
#######         ##########################
##############  ##########################
##############  ##########################
##############  ##########################
##############  ##########################&#34;&#34;&#34;, ignore=&#34;#&#34;,
                         ob_class=HightGrass,
                         ob_args=_map.poke_args,
                         state=&#34;float&#34;)
    # adding
    _map.inner.add(_map, 0, 0)

    # playmap_3
    _map = ob_maps[&#34;playmap_3&#34;]
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    # adding
    _map.dor.add(_map, 25, 6)
    _map.shopdor.add(_map, 61, 6)

    # playmap_4
    _map = ob_maps[&#34;playmap_4&#34;]
    _map.dor_playmap_5 = ChanceDor(&#34;~&#34;, state=&#34;float&#34;,
                                   arg_proto={&#34;chance&#34;: 6,
                                              &#34;map&#34;: &#34;playmap_5&#34;,
                                              &#34;x&#34;: 17, &#34;y&#34;: 16})
    _map.lake_1 = Water(
&#34;&#34;&#34;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~         ~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~                 ~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~                    ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~                                ~~~~~~~~~~~~~~
~~~~~~~~~                                           ~~~~~~~~
~~~&#34;&#34;&#34;, _map.w_poke_args)
    # adding
    _map.dor_playmap_5.add(_map, 56, 1)
    _map.lake_1.add(_map, 0, 0)

    # playmap_5
    _map = ob_maps[&#34;playmap_5&#34;]
    _map.inner = se.Square(&#34; &#34;, 11, 11, state=&#34;float&#34;, ob_class=HightGrass,
                           ob_args=_map.poke_args)
    # adding
    _map.inner.add(_map, 26, 1)

    # playmap_7
    _map = ob_maps[&#34;playmap_7&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;##############################
#########        #############
#########        #############
#########        #############
#########        #############
#########               ######
##   ####     ####      ######
#    ####     ####     #######
#             ################
#    ####     ################
#########     ################
#########     ################
#########                   ##
#########     ################
#########     ################
#########     ################
#########             ########
###################   ########
####################  ########
##############################&#34;&#34;&#34;, ignore=&#34;#&#34;, ob_class=HightGrass,
                         ob_args=_map.poke_args, state=&#34;float&#34;)
    for ob in (_map.inner_walls.obs + [i.main_ob for i in _map.trainers] +
               [getattr(_map, i) for i in p_data.map_data[&#34;playmap_7&#34;][&#34;balls&#34;]
                if &#34;playmap_7.&#34; + i not in figure.used_npcs
                   or not settings(&#34;save_trainers&#34;).val]):
        ob.bchar = ob.char
        ob.rechar(&#34; &#34;)
    # adding
    _map.inner.add(_map, 0, 0)

    # playmap_9
    _map = ob_maps[&#34;playmap_9&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;
#########################
#########################
###       #  #         ##
#         ####          #
#                       #
##                      #
#               #########
############ ############
#########################&#34;&#34;&#34;, ignore=&#34;#&#34;, ob_class=HightGrass,
                         ob_args=_map.poke_args, state=&#34;float&#34;)
    # adding
    _map.inner.add(_map, 2, 1)

    # playmap_11
    _map = ob_maps[&#34;playmap_11&#34;]
    _map.lake_1 = Water(
&#34;&#34;&#34;~~~~~                                                 ~~~~~~
~~~~~~~~~~~~                                 ~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~                       ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~                   ~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~          ~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&#34;&#34;&#34;,
_map.w_poke_args)
    # adding
    _map.lake_1.add(_map, 0, 12)

    # playmap_13
    _map = ob_maps[&#34;playmap_13&#34;]
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    # adding
    _map.dor.add(_map, 14, 29)
    _map.shopdor.add(_map, 52, 29)

    # playmap_18
    _map = ob_maps[&#34;playmap_18&#34;]
    _map.lake_1 = Water(&#34;&#34;&#34;  ~~
 ~~~~
~~~~~~~
~~~~~~~~
~~~~~~~~
~~~~~~~~
~~~~~~
 ~~~~
 ~~&#34;&#34;&#34;, _map.w_poke_args)
    # adding
    _map.lake_1.add(_map, 72, 7)

    # playmap_19
    _map = ob_maps[&#34;playmap_19&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;                         ####
                         #  #   ############
                         #  #   #          #
                         #  #   #          #
        ##############   #  #####          #
        ##           #   #                 #
        #            #   #  #####          #
        #            #####  #   #          #
        #                   #   #         ##
        #            #####  #   ############
        ##############   #  #
                         #  #
         #################  ####################
         #                                    ##
     #####                                     #
     #                                         #
     #                        #######          #
     #                        #     #          #
     ######## #################     ######  ####
            # #                          #  #
            # #                          #  #
            # #                          #  #
            # #                          #  #
            # #                          #  #
            # #                   ########  #
            # #                  ##         #
            # #                   ###########
            # #
            # #
            ###&#34;&#34;&#34;, ignore=&#34;#&#34;, ob_class=HightGrass,
                         ob_args=_map.poke_args, state=&#34;float&#34;)
    # adding
    _map.inner.add(_map, 0, 0)

    # playmap_21
    _map = ob_maps[&#34;playmap_21&#34;]
    _map.dor_playmap_19 = Dor(&#34;_&#34;, state=&#34;float&#34;,
                              arg_proto={&#34;map&#34;: &#34;playmap_19&#34;,
                                         &#34;x&#34;: 26, &#34;y&#34;: 1})
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    _map.lake_1 = Water(&#34;&#34;&#34;       ~~~~~~~~~~~
   ~~~~~~~~~~~~~~~~~~
 ~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~
 ~~~~~~~~~~~~~~~~~~~~~
    ~~~~~~~~~~~~~~
       ~~~~~~~~&#34;&#34;&#34;, _map.w_poke_args)
    # adding
    _map.dor_playmap_19.add(_map, 5, 26)
    _map.dor.add(_map, 10, 7)
    _map.shopdor.add(_map, 34, 7)
    _map.lake_1.add(_map, 65, 10)

    # playmap_30
    _map = ob_maps[&#34;playmap_30&#34;]
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    # adding
    _map.dor.add(_map, 13, 7)
    _map.shopdor.add(_map, 30, 7)


# Actual code execution
#######################
if __name__ == &#34;__main__&#34;:
    # deciding on wich input to use
    if sys.platform == &#34;linux&#34;:
        import tty
        import termios


        def recogniser():
            &#34;&#34;&#34;Use another (not on xserver relying) way to read keyboard input,
                to make this shit work in tty or via ssh,
                where no xserver is available&#34;&#34;&#34;
            global fd, old_settings

            fd = sys.stdin.fileno()
            old_settings = termios.tcgetattr(fd)
            tty.setraw(fd)
            while True:
                char = sys.stdin.read(1)
                _ev.set({ord(char): f&#34;&#39;{char.rstrip()}&#39;&#34;, 13: &#34;Key.enter&#34;,
                        127: &#34;Key.backspace&#34;, 32: &#34;Key.space&#34;,
                        27: &#34;Key.esc&#34;}[ord(char)])
                if ord(char) == 3:
                    reset_terminal()
                    _ev.set(&#34;exit&#34;)
    else:
        from pynput.keyboard import Listener


        def recogniser():
            &#34;&#34;&#34;Gets keyboard input from pynput&#34;&#34;&#34;
            while True:
                with Listener(on_press=on_press) as listener:
                    listener.join()

    do_logging, load_mods = parse_args(sys.argv)

    # resizing screen
    tss = ResizeScreen()
    width, height = tss()

    # Home global
    HOME = str(Path.home())

    # loading screen
    loading_screen = LoadingScreen(VERSION, CODENAME)
    loading_screen()

    # logging config
    log_file = f&#34;{HOME}{SAVEPATH}/pokete.log&#34; if do_logging else None
    logging.basicConfig(filename=log_file,
                        encoding=&#39;utf-8&#39;,
                        format=&#39;[%(asctime)s][%(levelname)s]: %(message)s&#39;,
                        level=logging.DEBUG if do_logging else logging.ERROR)
    logging.info(&#34;=== Startup Pokete %s v%s ===&#34;, CODENAME, VERSION)

    # reading save file
    session_info = read_save()

    settings.from_dict(session_info.get(&#34;settings&#34;, {}))

    save_trainers = settings(&#34;save_trainers&#34;).val

    if not load_mods:
        settings(&#34;load_mods&#34;).val = False

    # Loading mods
    if settings(&#34;load_mods&#34;).val:
        try:
            import mods
        except ModError as err:
            error_box = InfoBox(str(err), &#34;Mod-loading Error&#34;)
            error_box.center_add(loading_screen.map)
            loading_screen.map.show()
            sys.exit(1)

        for mod in mods.mod_obs:
            mod.mod_p_data(p_data)
    else:
        mods = DummyMods()
    logging.info(&#34;[General] %d mods are loaded: (%s)&#34;,
                 len(mods.mod_obs), &#39;, &#39;.join(mods.mod_names))

    # validating data
    p_data.validate()

    # Definiton of the playmaps
    # Most of the objects are generated from map_data,
    # but can be extended via map_additions()
    ############################################################

    ob_maps = gen_maps()
    # Those two maps cant to sourced out, because `height` and `width`
    # are global variables exclusive to pokete.py
    centermap = CenterMap(height - 1, width)
    shopmap = ShopMap(height - 1, width)
    ob_maps[&#34;centermap&#34;] = centermap
    ob_maps[&#34;shopmap&#34;] = shopmap

    # Figure
    figure = Figure(session_info)

    gen_obs()
    map_additions()

    # Definiton of all additionaly needed obs and maps
    #############################################################
    movemap = Movemap(ob_maps, height - 1, width)

    # side fn definitions
    detail = Detail(height - 1, width)
    pokete_dex = Dex(movemap, figure)
    help_page = Help(movemap)
    roadmap = RoadMap(ob_maps, figure)
    deck = Deck()
    menu = Menu(movemap)
    about = About(VERSION, CODENAME, movemap)
    inv = Inv(movemap)
    buy = Buy(figure, movemap)

    # Achievements
    achievements.set_achieved(session_info.get(&#34;achievements&#34;, []))
    for identifier, args in p_data.achievements.items():
        achievements.add(identifier, **args)

    # A dict that contains all world action functions for Attacks
    abb_funcs = {&#34;teleport&#34;: teleport}

    # objects relevant for fight()
    fightmap = FightMap(height - 1, width)
    fightitems = FightItems(fightmap, movemap, figure, ob_maps)

    for _i in [NPC, Trainer]:
        _i.set_vars(movemap, figure, NPCActions, check_walk_back)
    notifier.set_vars(movemap)
    figure.set_args(session_info)

    __t = time.time() - __t
    logging.info(&#34;[General] Startup took %fs&#34;, __t)

    fd = None
    old_settings = None

    try:
        main()
    except KeyboardInterrupt:
        print(&#34;KeyboardInterrupt&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="pokete.autosave"><code class="name flex">
<span>def <span class="ident">autosave</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Autosaves the game every 5 mins</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def autosave():
    &#34;&#34;&#34;Autosaves the game every 5 mins&#34;&#34;&#34;
    while True:
        time.sleep(300)
        if settings(&#34;autosave&#34;).val:
            save()</code></pre>
</details>
</dd>
<dt id="pokete.check_version"><code class="name flex">
<span>def <span class="ident">check_version</span></span>(<span>sinfo)</span>
</code></dt>
<dd>
<div class="desc"><p>Checks if version in save file is the same as current version</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>sinfo</code></strong></dt>
<dd>session_info dict</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def check_version(sinfo):
    &#34;&#34;&#34;Checks if version in save file is the same as current version
    ARGS:
        sinfo: session_info dict&#34;&#34;&#34;
    if &#34;ver&#34; not in sinfo:
        return
    else:
        ver = sinfo[&#34;ver&#34;]
    if VERSION != ver and sort_vers([VERSION, ver])[-1] == ver:
        if not ask_bool(loading_screen.map,
                        liner(f&#34;The save file was created \
on version &#39;{ver}&#39;, the current version is &#39;{VERSION}&#39;, \
such a downgrade may result in data loss! \
Do you want to continue?&#34;, int(width * 2 / 3))):
            exiter()</code></pre>
</details>
</dd>
<dt id="pokete.check_walk_back"><code class="name flex">
<span>def <span class="ident">check_walk_back</span></span>(<span>self=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Check whether the figure has to be walked back to the last Poketecenter
or not</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def check_walk_back(self=None):
    &#34;&#34;&#34;Check whether the figure has to be walked back to the last Poketecenter
       or not&#34;&#34;&#34;
    if all(i.hp &lt;= 0 for i in figure.pokes[:6]):
        amount = round(figure.get_money() / 3)
        figure.add_money(-amount)
        heal()
        ask_ok(movemap, f&#34;&#34;&#34;All your Poketes have died and you ran
back to the last Pokecenter you visited, to heal them!
On the way there {amount}$ fell out of your pocket!&#34;&#34;&#34;)
        figure.remove()
        figure.map = figure.last_center_map
        logging.info(&#34;[Figure] Lost all Poketes and ran away&#34;)
        DorToCenter().action(figure)</code></pre>
</details>
</dd>
<dt id="pokete.codes"><code class="name flex">
<span>def <span class="ident">codes</span></span>(<span>string)</span>
</code></dt>
<dd>
<div class="desc"><p>Cheats</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def codes(string):
    &#34;&#34;&#34;Cheats&#34;&#34;&#34;
    for i in string:
        if i == &#34;w&#34;:
            save()
        elif i == &#34;!&#34;:
            exec(string[string.index(&#34;!&#34;) + 2:])
            return
        elif i == &#34;e&#34;:
            try:
                exec(string[string.index(&#34;e&#34;) + 2:])
            except Exception as exc:
                print(exc)
            return
        elif i == &#34;q&#34;:
            exiter()</code></pre>
</details>
</dd>
<dt id="pokete.exiter"><code class="name flex">
<span>def <span class="ident">exiter</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Exit function</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def exiter():
    &#34;&#34;&#34;Exit function&#34;&#34;&#34;
    reset_terminal()
    logging.info(&#34;[General] Exiting...&#34;)
    sys.exit()</code></pre>
</details>
</dd>
<dt id="pokete.fight"><code class="name flex">
<span>def <span class="ident">fight</span></span>(<span>player, enemy, info=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Wrapper for fightmap.fight</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The players Poke</dd>
<dt><strong><code>enemy</code></strong></dt>
<dd>The enemys Poke</dd>
<dt><strong><code>info</code></strong></dt>
<dd>Dict containing info about the fight</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def fight(player, enemy, info=None):
    &#34;&#34;&#34;Wrapper for fightmap.fight
    ARGS:
        player: The players Poke
        enemy: The enemys Poke
        info: Dict containing info about the fight&#34;&#34;&#34;
    if info is None:
        info = {&#34;type&#34;: &#34;wild&#34;, &#34;player&#34;: &#34; &#34;}
    return fightmap.fight(player, enemy, figure, fightitems, deck, info)</code></pre>
</details>
</dd>
<dt id="pokete.game"><code class="name flex">
<span>def <span class="ident">game</span></span>(<span>_map)</span>
</code></dt>
<dd>
<div class="desc"><p>Game function</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_map</code></strong></dt>
<dd>The map that will be shown</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def game(_map):
    &#34;&#34;&#34;Game function
    ARGS:
        _map: The map that will be shown&#34;&#34;&#34;
    global width, height
    _ev.clear()
    print(&#34;\033]0;Pokete - &#34; + _map.pretty_name + &#34;\a&#34;, end=&#34;&#34;)
    if _map.name not in figure.visited_maps:
        figure.visited_maps.append(_map.name)
    movemap.code_label.rechar(figure.map.pretty_name)
    movemap.set(0, 0)
    movemap.bmap = _map
    movemap.full_show()
    inp_dict = {&#34;&#39;1&#39;&#34;: [deck, (6, &#34;Your deck&#34;)],
                &#34;&#39;3&#39;&#34;: [roadmap, (movemap,)],
                &#34;&#39;4&#39;&#34;: [inv, ()],
                &#34;&#39;5&#39;&#34;: [pokete_dex, ()],
                &#34;&#39;e&#39;&#34;: [menu, ()],
                &#34;&#39;?&#39;&#34;: [help_page, ()]}
    while True:
        # Directions are not beening used yet
        for name, _dir, x, y in zip([&#34;&#39;w&#39;&#34;, &#34;&#39;a&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;d&#39;&#34;],
                                    [&#34;t&#34;, &#34;l&#34;, &#34;b&#34;, &#34;r&#34;],
                                    [0, -1, 0, 1], [-1, 0, 1, 0]):
            if _ev.get() == name:
                figure.direction = _dir
                figure.set(figure.x + x, figure.y + y)
                _ev.clear()
                break
        else:
            if _ev.get() in inp_dict:
                inp_dict[_ev.get()][0](*inp_dict[_ev.get()][1])
                _ev.clear()
                movemap.show(init=True)
            elif _ev.get() == &#34;&#39;2&#39;&#34;:
                _ev.clear()
                if ask_bool(movemap, &#34;Do you realy want to exit?&#34;):
                    save()
                    exiter()
            elif _ev.get() == &#34;&#39;:&#39;&#34;:
                _ev.clear()
                inp = text_input(movemap.code_label, movemap, &#34;:&#34;,
                                 movemap.width,
                                 (movemap.width - 2) * movemap.height - 1)[1:]
                movemap.code_label.outp(figure.map.pretty_name)
                codes(inp)
                _ev.clear()
        std_loop()
        notifier.next()
        _map.extra_actions()
        time.sleep(0.05)
        for statement, x, y in zip([figure.x + 6 &gt; movemap.x + movemap.width,
                                    figure.x &lt; movemap.x + 6,
                                    figure.y + 6 &gt; movemap.y + movemap.height,
                                    figure.y &lt; movemap.y + 6],
                                   [1, -1, 0, 0], [0, 0, 1, -1]):
            if statement:
                movemap.set(movemap.x + x, movemap.y + y)
        # checking for resizing
        width, height = os.get_terminal_size()
        if movemap.width != width or movemap.height != height - 1:
            movemap.resize(height - 1, width, &#34; &#34;)
        movemap.full_show()</code></pre>
</details>
</dd>
<dt id="pokete.gen_maps"><code class="name flex">
<span>def <span class="ident">gen_maps</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Generates all maps</p>
<h2 id="returns">Returns</h2>
<p>Dict of all PlayMaps</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def gen_maps():
    &#34;&#34;&#34;Generates all maps
    RETURNS:
        Dict of all PlayMaps&#34;&#34;&#34;
    maps = {}
    for ob_map in p_data.maps:
        args = p_data.maps[ob_map]
        args[&#34;extra_actions&#34;] = (getattr(ExtraActions, args[&#34;extra_actions&#34;],
                                         None)
                                 if args[&#34;extra_actions&#34;] is not None
                                 else None)
        maps[ob_map] = PlayMap(name=ob_map, **args)
    return maps</code></pre>
</details>
</dd>
<dt id="pokete.gen_obs"><code class="name flex">
<span>def <span class="ident">gen_obs</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Genrates all objests on the maps</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def gen_obs():
    &#34;&#34;&#34;Genrates all objests on the maps&#34;&#34;&#34;
    map_data = p_data.map_data
    npcs = p_data.npcs
    trainers = p_data.trainers

    # adding all trainer to map
    for i in trainers:
        _map = ob_maps[i]
        for j in trainers[i]:
            args = j[&#34;args&#34;]
            trainer = Trainer(Poke(*j[&#34;poke&#34;], player=False),
                              *args[:-2], fight)
            trainer.add(_map, args[-2], args[-1])
            _map.trainers.append(trainer)

    # generating objects from map_data
    for ob_map in map_data:
        _map = ob_maps[ob_map]
        for hard_ob in map_data[ob_map][&#34;hard_obs&#34;]:
            parse_obj(_map, hard_ob,
                      se.Text(map_data[ob_map][&#34;hard_obs&#34;][hard_ob][&#34;txt&#34;],
                              ignore=&#34; &#34;),
                      map_data[ob_map][&#34;hard_obs&#34;][hard_ob])
        for soft_ob in map_data[ob_map][&#34;soft_obs&#34;]:
            parse_obj(_map, soft_ob,
                      Meadow(map_data[ob_map][&#34;soft_obs&#34;][soft_ob][&#34;txt&#34;],
                             _map.poke_args),
                      map_data[ob_map][&#34;soft_obs&#34;][soft_ob])
        for dor in map_data[ob_map][&#34;dors&#34;]:
            parse_obj(_map, dor,
                      Dor(&#34; &#34;, state=&#34;float&#34;,
                          arg_proto=map_data[ob_map][&#34;dors&#34;][dor][&#34;args&#34;]),
                      map_data[ob_map][&#34;dors&#34;][dor])
        for ball in map_data[ob_map][&#34;balls&#34;]:
            if f&#39;{ob_map}.{ball}&#39; not in figure.used_npcs or not \
            settings(&#34;save_trainers&#34;).val:
                parse_obj(_map, ball,
                          Poketeball(f&#34;{ob_map}.{ball}&#34;),
                          map_data[ob_map][&#34;balls&#34;][ball])
    # NPCs
    for npc in npcs:
        parse_obj(ob_maps[npcs[npc][&#34;map&#34;]], npc,
                  NPC(npc, npcs[npc][&#34;texts&#34;], npcs[npc][&#34;fn&#34;]),
                  npcs[npc])</code></pre>
</details>
</dd>
<dt id="pokete.heal"><code class="name flex">
<span>def <span class="ident">heal</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Heals all poketes</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def heal():
    &#34;&#34;&#34;Heals all poketes&#34;&#34;&#34;
    for poke in figure.pokes:
        poke.hp = poke.full_hp
        poke.effects = []
        poke.miss_chance = poke.full_miss_chance
        poke.text_hp.rechar(f&#34;HP:{poke.hp}&#34;)
        poke.set_vars()
        poke.hp_bar.make(poke.hp)
        movemap.balls_label_rechar(figure.pokes)</code></pre>
</details>
</dd>
<dt id="pokete.intro"><code class="name flex">
<span>def <span class="ident">intro</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Intro to Pokete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def intro():
    &#34;&#34;&#34;Intro to Pokete&#34;&#34;&#34;
    movemap.set(0, 0)
    movemap.bmap = ob_maps[&#34;intromap&#34;]
    movemap.full_show()
    while figure.name in [&#34;DEFAULT&#34;, &#34;&#34;]:
        figure.name = ask_text(movemap,
                               &#34;Welcome to Pokete!\nPlease choose your name!\n&#34;,
                               &#34;Name:&#34;, &#34;&#34;, &#34;Name&#34;, 17)
    movemap.name_label_rechar(figure.name)
    movemap.text(4, 3, [&#34; &lt; Hello my child.&#34;,
                        &#34; &lt; You&#39;re now ten years old.&#34;,
                        &#34; &lt; And I think it&#39;s now time for you to travel the \
world and be a Pokete-trainer.&#34;,
                        &#34; &lt; Therefore I give you this powerfull &#39;Steini&#39;, \
15 &#39;Poketeballs&#39; to catch Poketes and a &#34;
                        &#34;&#39;Healing potion&#39;.&#34;,
                        &#34; &lt; You will be the best Pokete-Trainer in Nice town.&#34;,
                        &#34; &lt; Now go out and become the best!&#34;])
    game(ob_maps[&#34;intromap&#34;])</code></pre>
</details>
</dd>
<dt id="pokete.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Main function</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main():
    &#34;&#34;&#34;Main function&#34;&#34;&#34;
    os.system(&#34;&#34;)
    recognising = threading.Thread(target=recogniser)
    autosaveing = threading.Thread(target=autosave)
    recognising.daemon = True
    autosaveing.daemon = True
    recognising.start()
    autosaveing.start()
    check_version(session_info)
    if figure.name == &#34;DEFAULT&#34;:
        intro()
    game(figure.map)</code></pre>
</details>
</dd>
<dt id="pokete.map_additions"><code class="name flex">
<span>def <span class="ident">map_additions</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Applies additions to the maps</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map_additions():
    &#34;&#34;&#34;Applies additions to the maps&#34;&#34;&#34;

    # playmap_1
    _map = ob_maps[&#34;playmap_1&#34;]
    _map.dor = DorToCenter()
    # adding
    _map.dor.add(_map, 25, 4)

    # cave_1
    _map = ob_maps[&#34;cave_1&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;##########################################
##        ################################
#         ################################
#         ######################        ##
#                    ###########   #######
#         #########  ###########   #######
#         #########  ###########   #######
###################  ###########   #######
##############                     #######
##############                     #######
##############  ##########################
##############  ##########################
########        ##########################
#######  ###    ##########################
#######  ###    ##########################
#######         ##########################
##############  ##########################
##############  ##########################
##############  ##########################
##############  ##########################&#34;&#34;&#34;, ignore=&#34;#&#34;,
                         ob_class=HightGrass,
                         ob_args=_map.poke_args,
                         state=&#34;float&#34;)
    # adding
    _map.inner.add(_map, 0, 0)

    # playmap_3
    _map = ob_maps[&#34;playmap_3&#34;]
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    # adding
    _map.dor.add(_map, 25, 6)
    _map.shopdor.add(_map, 61, 6)

    # playmap_4
    _map = ob_maps[&#34;playmap_4&#34;]
    _map.dor_playmap_5 = ChanceDor(&#34;~&#34;, state=&#34;float&#34;,
                                   arg_proto={&#34;chance&#34;: 6,
                                              &#34;map&#34;: &#34;playmap_5&#34;,
                                              &#34;x&#34;: 17, &#34;y&#34;: 16})
    _map.lake_1 = Water(
&#34;&#34;&#34;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~         ~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~                 ~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~                    ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~                                ~~~~~~~~~~~~~~
~~~~~~~~~                                           ~~~~~~~~
~~~&#34;&#34;&#34;, _map.w_poke_args)
    # adding
    _map.dor_playmap_5.add(_map, 56, 1)
    _map.lake_1.add(_map, 0, 0)

    # playmap_5
    _map = ob_maps[&#34;playmap_5&#34;]
    _map.inner = se.Square(&#34; &#34;, 11, 11, state=&#34;float&#34;, ob_class=HightGrass,
                           ob_args=_map.poke_args)
    # adding
    _map.inner.add(_map, 26, 1)

    # playmap_7
    _map = ob_maps[&#34;playmap_7&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;##############################
#########        #############
#########        #############
#########        #############
#########        #############
#########               ######
##   ####     ####      ######
#    ####     ####     #######
#             ################
#    ####     ################
#########     ################
#########     ################
#########                   ##
#########     ################
#########     ################
#########     ################
#########             ########
###################   ########
####################  ########
##############################&#34;&#34;&#34;, ignore=&#34;#&#34;, ob_class=HightGrass,
                         ob_args=_map.poke_args, state=&#34;float&#34;)
    for ob in (_map.inner_walls.obs + [i.main_ob for i in _map.trainers] +
               [getattr(_map, i) for i in p_data.map_data[&#34;playmap_7&#34;][&#34;balls&#34;]
                if &#34;playmap_7.&#34; + i not in figure.used_npcs
                   or not settings(&#34;save_trainers&#34;).val]):
        ob.bchar = ob.char
        ob.rechar(&#34; &#34;)
    # adding
    _map.inner.add(_map, 0, 0)

    # playmap_9
    _map = ob_maps[&#34;playmap_9&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;
#########################
#########################
###       #  #         ##
#         ####          #
#                       #
##                      #
#               #########
############ ############
#########################&#34;&#34;&#34;, ignore=&#34;#&#34;, ob_class=HightGrass,
                         ob_args=_map.poke_args, state=&#34;float&#34;)
    # adding
    _map.inner.add(_map, 2, 1)

    # playmap_11
    _map = ob_maps[&#34;playmap_11&#34;]
    _map.lake_1 = Water(
&#34;&#34;&#34;~~~~~                                                 ~~~~~~
~~~~~~~~~~~~                                 ~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~                       ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~                   ~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~          ~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&#34;&#34;&#34;,
_map.w_poke_args)
    # adding
    _map.lake_1.add(_map, 0, 12)

    # playmap_13
    _map = ob_maps[&#34;playmap_13&#34;]
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    # adding
    _map.dor.add(_map, 14, 29)
    _map.shopdor.add(_map, 52, 29)

    # playmap_18
    _map = ob_maps[&#34;playmap_18&#34;]
    _map.lake_1 = Water(&#34;&#34;&#34;  ~~
 ~~~~
~~~~~~~
~~~~~~~~
~~~~~~~~
~~~~~~~~
~~~~~~
 ~~~~
 ~~&#34;&#34;&#34;, _map.w_poke_args)
    # adding
    _map.lake_1.add(_map, 72, 7)

    # playmap_19
    _map = ob_maps[&#34;playmap_19&#34;]
    _map.inner = se.Text(&#34;&#34;&#34;                         ####
                         #  #   ############
                         #  #   #          #
                         #  #   #          #
        ##############   #  #####          #
        ##           #   #                 #
        #            #   #  #####          #
        #            #####  #   #          #
        #                   #   #         ##
        #            #####  #   ############
        ##############   #  #
                         #  #
         #################  ####################
         #                                    ##
     #####                                     #
     #                                         #
     #                        #######          #
     #                        #     #          #
     ######## #################     ######  ####
            # #                          #  #
            # #                          #  #
            # #                          #  #
            # #                          #  #
            # #                          #  #
            # #                   ########  #
            # #                  ##         #
            # #                   ###########
            # #
            # #
            ###&#34;&#34;&#34;, ignore=&#34;#&#34;, ob_class=HightGrass,
                         ob_args=_map.poke_args, state=&#34;float&#34;)
    # adding
    _map.inner.add(_map, 0, 0)

    # playmap_21
    _map = ob_maps[&#34;playmap_21&#34;]
    _map.dor_playmap_19 = Dor(&#34;_&#34;, state=&#34;float&#34;,
                              arg_proto={&#34;map&#34;: &#34;playmap_19&#34;,
                                         &#34;x&#34;: 26, &#34;y&#34;: 1})
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    _map.lake_1 = Water(&#34;&#34;&#34;       ~~~~~~~~~~~
   ~~~~~~~~~~~~~~~~~~
 ~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~
 ~~~~~~~~~~~~~~~~~~~~~
    ~~~~~~~~~~~~~~
       ~~~~~~~~&#34;&#34;&#34;, _map.w_poke_args)
    # adding
    _map.dor_playmap_19.add(_map, 5, 26)
    _map.dor.add(_map, 10, 7)
    _map.shopdor.add(_map, 34, 7)
    _map.lake_1.add(_map, 65, 10)

    # playmap_30
    _map = ob_maps[&#34;playmap_30&#34;]
    _map.dor = DorToCenter()
    _map.shopdor = DorToShop()
    # adding
    _map.dor.add(_map, 13, 7)
    _map.shopdor.add(_map, 30, 7)</code></pre>
</details>
</dd>
<dt id="pokete.on_press"><code class="name flex">
<span>def <span class="ident">on_press</span></span>(<span>key)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets the _ev variable</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>key</code></strong></dt>
<dd>Key object _ev is set from</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_press(key):
    &#34;&#34;&#34;Sets the _ev variable
    ARGS:
        key: Key object _ev is set from&#34;&#34;&#34;
    _ev.set(str(key))</code></pre>
</details>
</dd>
<dt id="pokete.parse_obj"><code class="name flex">
<span>def <span class="ident">parse_obj</span></span>(<span>_map, name, obj, _dict)</span>
</code></dt>
<dd>
<div class="desc"><p>Parses an object to a maps attribute and adds it</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_map</code></strong></dt>
<dd>The given PlayMap</dd>
<dt><strong><code>name</code></strong></dt>
<dd>Name of the attribute</dd>
<dt><strong><code>obj</code></strong></dt>
<dd>Object beeing set</dd>
<dt><strong><code>_dict</code></strong></dt>
<dd>Dict containing info</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_obj(_map, name, obj, _dict):
    &#34;&#34;&#34;Parses an object to a maps attribute and adds it
    ARGS:
        _map: The given PlayMap
        name: Name of the attribute
        obj: Object beeing set
        _dict: Dict containing info&#34;&#34;&#34;
    setattr(_map, name, obj)
    obj.add(_map, _dict[&#34;x&#34;], _dict[&#34;y&#34;])</code></pre>
</details>
</dd>
<dt id="pokete.read_save"><code class="name flex">
<span>def <span class="ident">read_save</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Reads form savefile</p>
<h2 id="returns">Returns</h2>
<p>session_info dict</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def read_save():
    &#34;&#34;&#34;Reads form savefile
    RETURNS:
        session_info dict&#34;&#34;&#34;
    Path(HOME + SAVEPATH).mkdir(parents=True, exist_ok=True)
    # Default test session_info
    _si = {
        &#34;user&#34;: &#34;DEFAULT&#34;,
        &#34;ver&#34;: VERSION,
        &#34;map&#34;: &#34;intromap&#34;,
        &#34;oldmap&#34;: &#34;playmap_1&#34;,
        &#34;last_center_map&#34;: &#34;playmap_1&#34;,
        &#34;x&#34;: 4,
        &#34;y&#34;: 5,
        &#34;achievements&#34;: [],
        &#34;pokes&#34;: {
            &#34;0&#34;: {&#34;name&#34;: &#34;steini&#34;, &#34;xp&#34;: 50, &#34;hp&#34;: &#34;SKIP&#34;,
                  &#34;ap&#34;: [&#34;SKIP&#34;, &#34;SKIP&#34;]}
        },
        &#34;inv&#34;: {&#34;poketeball&#34;: 15, &#34;healing_potion&#34;: 1},
        &#34;settings&#34;: {
            &#34;load_mods&#34;: False},
        &#34;figure.caught_pokes&#34;: [&#34;steini&#34;],
        &#34;visited_maps&#34;: [&#34;playmap_1&#34;],
        &#34;startup_time&#34;: 0,
        &#34;used_npcs&#34;: []
    }

    if (not os.path.exists(HOME + SAVEPATH + &#34;/pokete.json&#34;)
        and os.path.exists(HOME + SAVEPATH + &#34;/pokete.py&#34;)):
        l_dict = {}
        with open(HOME + SAVEPATH + &#34;/pokete.py&#34;, &#34;r&#34;) as _file:
            exec(_file.read(), {&#34;session_info&#34;: _si}, l_dict)
        _si = json.loads(json.dumps(l_dict[&#34;session_info&#34;]))
    elif os.path.exists(HOME + SAVEPATH + &#34;/pokete.json&#34;):
        with open(HOME + SAVEPATH + &#34;/pokete.json&#34;) as _file:
            _si = json.load(_file)
    return _si</code></pre>
</details>
</dd>
<dt id="pokete.reset_terminal"><code class="name flex">
<span>def <span class="ident">reset_terminal</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Resets the terminals state</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset_terminal():
    &#34;&#34;&#34;Resets the terminals state&#34;&#34;&#34;
    if sys.platform == &#34;linux&#34;:
        termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)</code></pre>
</details>
</dd>
<dt id="pokete.save"><code class="name flex">
<span>def <span class="ident">save</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Saves all relevant data to savefile</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def save():
    &#34;&#34;&#34;Saves all relevant data to savefile&#34;&#34;&#34;
    _si = {
        &#34;user&#34;: figure.name,
        &#34;ver&#34;: VERSION,
        &#34;map&#34;: figure.map.name,
        &#34;oldmap&#34;: figure.oldmap.name,
        &#34;last_center_map&#34;: figure.last_center_map.name,
        &#34;x&#34;: figure.x,
        &#34;y&#34;: figure.y,
        &#34;achievements&#34;: achievements.achieved,
        &#34;pokes&#34;: {i: poke.dict() for i, poke in enumerate(figure.pokes)},
        &#34;inv&#34;: figure.inv,
        &#34;money&#34;: figure.get_money(),
        &#34;settings&#34;: settings.to_dict(),
        &#34;caught_poketes&#34;: list(dict.fromkeys(figure.caught_pokes
                                             + [i.identifier
                                                for i in figure.pokes])),
        &#34;visited_maps&#34;: figure.visited_maps,
        &#34;startup_time&#34;: __t,
        # filters doublicates from figure.used_npcs
        &#34;used_npcs&#34;: list(dict.fromkeys(figure.used_npcs))
    }
    with open(HOME + SAVEPATH + &#34;/pokete.json&#34;, &#34;w+&#34;) as file:
        # writes the data to the save file in a nice format
        json.dump(_si, file, indent=4)
    logging.info(&#34;[General] Saved&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.swap_poke"><code class="name flex">
<span>def <span class="ident">swap_poke</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Trading with other players in the local network</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def swap_poke():
    &#34;&#34;&#34;Trading with other players in the local network&#34;&#34;&#34;
    if not ask_bool(movemap, &#34;Do you want to trade with another trainer?&#34;):
        return
    port = 65432
    save()
    do = ask_bool(movemap, &#34;Do you want to be the host?&#34;)
    if (index := deck(6, &#34;Your deck&#34;, True)) is None:
        return
    if do:
        with InfoBox(f&#34;Hostname: {socket.gethostname()}\nWaiting...&#34;,
                     _map=movemap):
            host = &#39;&#39;
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
                sock.bind((host, port))
                sock.listen()
                conn = sock.accept()[0]
                with conn:
                    while True:
                        data = conn.recv(1024)
                        if not data:
                            break
                        decode_data = json.loads(data.decode())
                        conn.sendall(
                                str.encode(
                                    json.dumps(
                                        {&#34;mods&#34;: mods.mod_info,
                                         &#34;name&#34;: figure.name,
                                         &#34;poke&#34;: figure.pokes[index].dict()})))
    else:
        host = &#34;&#34;
        while host == &#34;&#34;:
            host = ask_text(movemap, &#34;Please type in the hosts hostname&#34;,
                            &#34;Host:&#34;, &#34;&#34;, &#34;Hostname&#34;, 30)
            if host in [&#34;localhost&#34;, &#34;127.0.0.1&#34;, &#34;0.0.0.0&#34;,
                        socket.gethostname()]:
                ask_ok(movemap,
                       &#34;You&#39;re not allowed trade with your self!\nYou fool!&#34;)
                host = &#34;&#34;
        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
            try:
                sock.connect((host, port))
            except Exception as err:
                ask_ok(movemap, str(err))
                return
            sock.sendall(
                    str.encode(
                        json.dumps({&#34;mods&#34;: mods.mod_info,
                                    &#34;name&#34;: figure.name,
                                    &#34;poke&#34;: figure.pokes[index].dict()})))
            data = sock.recv(1024)
            decode_data = json.loads(data.decode())
    logging.info(&#34;[Swap_poke] Recieved %s&#34;, decode_data)
    mod_info = decode_data.get(&#34;mods&#34;, {})
    if mods.mod_info != mod_info:
        ask_ok(movemap, f&#34;&#34;&#34;Conflicting mod versions!
Your mods: {&#39;, &#39;.join(i + &#39;-&#39; + mods.mod_info[i] for i in mods.mod_info)}
Your partners mods: {&#39;, &#39;.join(i + &#39;-&#39; + mod_info[i] for i in mod_info)}&#34;&#34;&#34;)
        return
    figure.add_poke(Poke(decode_data[&#34;poke&#34;][&#34;name&#34;],
                         decode_data[&#34;poke&#34;][&#34;xp&#34;],
                         decode_data[&#34;poke&#34;][&#34;hp&#34;]), index)
    figure.pokes[index].set_ap(decode_data[&#34;poke&#34;][&#34;ap&#34;])
    save()  # to avoid duping
    ask_ok(movemap,
           f&#34;You received: {figure.pokes[index].name.capitalize()} at level \
{figure.pokes[index].lvl()} from {decode_data[&#39;name&#39;]}.&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.teleport"><code class="name flex">
<span>def <span class="ident">teleport</span></span>(<span>poke)</span>
</code></dt>
<dd>
<div class="desc"><p>Teleports the player to another towns pokecenter</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>poke</code></strong></dt>
<dd>The Poke shown in the animation</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def teleport(poke):
    &#34;&#34;&#34;Teleports the player to another towns pokecenter
    ARGS:
        poke: The Poke shown in the animation&#34;&#34;&#34;
    if (obj := roadmap(movemap, choose=True)) is None:
        return
    else:
        if settings(&#34;animations&#34;).val:
            animations.transition(movemap, poke)
        cen_d = p_data.map_data[obj.name][&#34;hard_obs&#34;][&#34;pokecenter&#34;]
        Dor(&#34;&#34;, state=&#34;float&#34;, arg_proto={&#34;map&#34;: obj.name,
                                          &#34;x&#34;: cen_d[&#34;x&#34;] + 5,
                                          &#34;y&#34;: cen_d[&#34;y&#34;] + 6}).action(figure)</code></pre>
</details>
</dd>
<dt id="pokete.test"><code class="name flex">
<span>def <span class="ident">test</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>test/demo for BetterChooseBox, until BetterChooseBox is actively used
this will remain</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test():
    &#34;&#34;&#34;test/demo for BetterChooseBox, until BetterChooseBox is actively used
       this will remain&#34;&#34;&#34;
    with BetterChooseBox(3, [se.Text(i, state=&#34;float&#34;) for i in [&#34;Hallo&#34;,
        &#34;Welt&#34;, &#34;Wie&#34;, &#34;Gehts&#34;, &#34;Dir&#34;, &#34;So&#34;, &#34;Du&#34;]],
        &#34;Test&#34;, _map=movemap) as a:
        while True:
            if _ev.get() in [&#34;&#39;w&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;a&#39;&#34;, &#34;&#39;d&#39;&#34;]:
                a.input(_ev.get())
                _ev.clear()
            elif _ev.get() in [&#34;&#39;q&#39;&#34;, &#34;Key.esc&#34;]:
                _ev.clear()
                break
            elif _ev.get() == &#34;&#39;t&#39;&#34;:
                _ev.clear()
                a.remove()
                a.set_items(3, [se.Text(i, state=&#34;float&#34;) for i in [&#34;test&#34;,
                    &#34;test&#34;, &#34;123&#34;, &#34;fuckthesystem&#34;]])
                a.center_add(a.map)
            std_loop()
            time.sleep(0.05)
            a.map.show()</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pokete.CenterDor"><code class="flex name class">
<span>class <span class="ident">CenterDor</span></span>
<span>(</span><span>char, state=None, arg_proto=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Dor class for the map to enter centers and shops</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CenterDor(se.Object):
    &#34;&#34;&#34;Dor class for the map to enter centers and shops&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Trigger
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        ob.remove()
        i = ob.map.name
        ob.add(ob.oldmap,
               ob.oldmap.dor.x
               if ob.map == centermap
               else ob.oldmap.shopdor.x,
               ob.oldmap.dor.y + 1
               if ob.map == centermap
               else ob.oldmap.shopdor.y + 1)
        ob.oldmap = ob_maps[i]
        game(ob.map)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.CenterDor.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Trigger</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def action(self, ob):
    &#34;&#34;&#34;Trigger
    ARGS:
        ob: The object triggering this action&#34;&#34;&#34;
    ob.remove()
    i = ob.map.name
    ob.add(ob.oldmap,
           ob.oldmap.dor.x
           if ob.map == centermap
           else ob.oldmap.shopdor.x,
           ob.oldmap.dor.y + 1
           if ob.map == centermap
           else ob.oldmap.shopdor.y + 1)
    ob.oldmap = ob_maps[i]
    game(ob.map)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.CenterInteract"><code class="flex name class">
<span>class <span class="ident">CenterInteract</span></span>
<span>(</span><span>char, state=None, arg_proto=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Triggers a conversation in the Pokete center</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CenterInteract(se.Object):
    &#34;&#34;&#34;Triggers a conversation in the Pokete center&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Triggers the interaction in the Pokete center
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        _ev.clear()
        movemap.full_show()
        movemap.text(int(movemap.width / 2), 3,
                     [&#34; &lt; Welcome to the Pokete-Center&#34;,
                      &#34; &lt; What do you want to do?&#34;,
                      &#34; &lt; a: See your full deck\n b: Heal all your Poketes\
\n c: Go&#34;])
        while True:
            if _ev.get() == &#34;&#39;a&#39;&#34;:
                _ev.clear()
                while &#34;__fallback__&#34; in [p.identifier for p in figure.pokes]:
                    figure.pokes.pop([p.identifier for p in
                                      figure.pokes].index(&#34;__fallback__&#34;))
                movemap.balls_label_rechar(figure.pokes)
                deck(len(figure.pokes))
                break
            elif _ev.get() == &#34;&#39;b&#39;&#34;:
                _ev.clear()
                heal()
                time.sleep(0.5)
                movemap.text(int(movemap.width / 2), 3, [&#34; &lt; ...&#34;,
                                                         &#34; &lt; Your Poketes are \
now healed!&#34;])
                break
            elif _ev.get() == &#34;&#39;c&#39;&#34;:
                _ev.clear()
                break
            std_loop()
            time.sleep(0.05)
        movemap.full_show(init=True)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.CenterInteract.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Triggers the interaction in the Pokete center</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    def action(self, ob):
        &#34;&#34;&#34;Triggers the interaction in the Pokete center
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        _ev.clear()
        movemap.full_show()
        movemap.text(int(movemap.width / 2), 3,
                     [&#34; &lt; Welcome to the Pokete-Center&#34;,
                      &#34; &lt; What do you want to do?&#34;,
                      &#34; &lt; a: See your full deck\n b: Heal all your Poketes\
\n c: Go&#34;])
        while True:
            if _ev.get() == &#34;&#39;a&#39;&#34;:
                _ev.clear()
                while &#34;__fallback__&#34; in [p.identifier for p in figure.pokes]:
                    figure.pokes.pop([p.identifier for p in
                                      figure.pokes].index(&#34;__fallback__&#34;))
                movemap.balls_label_rechar(figure.pokes)
                deck(len(figure.pokes))
                break
            elif _ev.get() == &#34;&#39;b&#39;&#34;:
                _ev.clear()
                heal()
                time.sleep(0.5)
                movemap.text(int(movemap.width / 2), 3, [&#34; &lt; ...&#34;,
                                                         &#34; &lt; Your Poketes are \
now healed!&#34;])
                break
            elif _ev.get() == &#34;&#39;c&#39;&#34;:
                _ev.clear()
                break
            std_loop()
            time.sleep(0.05)
        movemap.full_show(init=True)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.CenterMap"><code class="flex name class">
<span>class <span class="ident">CenterMap</span></span>
<span>(</span><span>_he, _wi)</span>
</code></dt>
<dd>
<div class="desc"><p>Contains all relevant objects for centermap</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_he</code></strong></dt>
<dd>The maps height</dd>
<dt><strong><code>_wi</code></strong></dt>
<dd>The maps width</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CenterMap(PlayMap):
    &#34;&#34;&#34;Contains all relevant objects for centermap
    ARGS:
        _he: The maps height
        _wi: The maps width&#34;&#34;&#34;

    def __init__(self, _he, _wi):
        super().__init__(_he, _wi, name=&#34;centermap&#34;,
                         pretty_name=&#34;Pokete-Center&#34;)
        self.inner = se.Text(&#34;&#34;&#34; ________________
 |______________|
 |     |a |     |
 |     Â¯ Â¯Â¯     |
 |              |
 |______  ______|
 |_____|  |_____|&#34;&#34;&#34;, ignore=&#34; &#34;)

        self.interact = CenterInteract(&#34;Â¯&#34;, state=&#34;float&#34;)
        self.dor_back1 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        self.dor_back2 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        self.trader = NPC(&#34;trader&#34;,
                          [&#34; &lt; I&#39;m a trader.&#34;,
                           &#34; &lt; Here you can trade one of your Poketes for \
another players&#39; one.&#34;],
                          &#34;swap_poke&#34;)
        # adding
        self.dor_back1.add(self, int(self.width / 2), 8)
        self.dor_back2.add(self, int(self.width / 2) + 1, 8)
        self.inner.add(self, int(self.width / 2) - 8, 1)
        self.interact.add(self, int(self.width / 2), 4)
        self.trader.add(self, int(self.width / 2) - 6, 3)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pokete_classes.classes.PlayMap</li>
<li>scrap_engine.Map</li>
</ul>
</dd>
<dt id="pokete.ChanceDor"><code class="flex name class">
<span>class <span class="ident">ChanceDor</span></span>
<span>(</span><span>char, state=None, arg_proto=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Same as dor but with a chance</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ChanceDor(Dor):
    &#34;&#34;&#34;Same as dor but with a chance&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Trigger
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        if random.randint(0, self.arg_proto[&#34;chance&#34;]) == 0:
            super().action(ob)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pokete.Dor" href="#pokete.Dor">Dor</a></li>
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pokete.Dor" href="#pokete.Dor">Dor</a></b></code>:
<ul class="hlist">
<li><code><a title="pokete.Dor.action" href="#pokete.Dor.action">action</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pokete.Debug"><code class="flex name class">
<span>class <span class="ident">Debug</span></span>
</code></dt>
<dd>
<div class="desc"><p>Debug class</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Debug:
    &#34;&#34;&#34;Debug class&#34;&#34;&#34;

    @classmethod
    def pos(cls):
        &#34;&#34;&#34;Prints the figures&#39; position&#34;&#34;&#34;
        print(figure.x, figure.y, figure.map.name)</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="pokete.Debug.pos"><code class="name flex">
<span>def <span class="ident">pos</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Prints the figures' position</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def pos(cls):
    &#34;&#34;&#34;Prints the figures&#39; position&#34;&#34;&#34;
    print(figure.x, figure.y, figure.map.name)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.Deck"><code class="flex name class">
<span>class <span class="ident">Deck</span></span>
</code></dt>
<dd>
<div class="desc"><p>Deck to see Poketes in</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Deck(Informer):
    &#34;&#34;&#34;Deck to see Poketes in&#34;&#34;&#34;

    def __init__(self):
        self.map = se.Map(height - 1, width, &#34; &#34;)
        self.submap = se.Submap(self.map, 0, 0, height=height - 1, width=width)
        self.exit_label = se.Text(&#34;1: Exit  &#34;)
        self.move_label = se.Text(&#34;2: Move    &#34;)
        self.move_free = se.Text(&#34;3: Free&#34;)
        self.index = se.Object(&#34;*&#34;)
        # adding
        self.exit_label.add(self.submap, 0, self.submap.height - 1)
        self.move_label.add(self.submap, 9, self.submap.height - 1)
        self.move_free.add(self.submap, 20, self.submap.height - 1)

    def rem_pokes(self, pokes):
        &#34;&#34;&#34;Removes all Poketes from the Deck
        ARGS:
            pokes: List of Pokes beeing removed&#34;&#34;&#34;
        for poke in pokes:
            self.remove(poke)

    def __call__(self, p_len, label=&#34;Your full deck&#34;, in_fight=False):
        &#34;&#34;&#34;Opens the deck
        ARGS:
            p_len: Number of Pokes beeing included
            label: The displayed label
            in_fight: Whether or not this is called in a fight&#34;&#34;&#34;
        _ev.clear()
        pokes = figure.pokes[:p_len]
        ret_action = None
        self.map.resize(5 * int((len(pokes) + 1) / 2) + 2, width,
                        self.map.background)
        # decksubmap.resize(height-1, width)
        se.Text(label, esccode=Color.thicc).add(self.map, 2, 0)
        se.Square(&#34;|&#34;, 1, self.map.height - 2).add(self.map,
                                                   round(self.map.width / 2),
                                                   1)
        StdFrame2(self.map.height - 1, self.map.width).add(self.map, 0, 0)
        self.move_label.rechar(&#34;2: Move    &#34;)
        indici = []
        self.add_all(pokes, True)
        self.index.index = 0
        if len(pokes) &gt; 0:
            self.index.add(self.map,
                           pokes[self.index.index].text_name.x
                            + len(pokes[self.index.index].text_name.text)
                            + 1,
                           pokes[self.index.index].text_name.y)
        self.submap.full_show(init=True)
        while True:
            if _ev.get() in [&#34;&#39;1&#39;&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                _ev.clear()
                self.rem_pokes(pokes)
                while len(self.map.obs) &gt; 0:
                    self.map.obs[0].remove()
                self.submap.set(0, 0)
                if ret_action is not None:
                    abb_funcs[ret_action](pokes[self.index.index])
                return None
            elif _ev.get() == &#34;&#39;2&#39;&#34;:
                _ev.clear()
                if len(pokes) == 0:
                    continue
                if not indici:
                    indici.append(self.index.index)
                    self.move_label.rechar(&#34;2: Move to &#34;)
                else:
                    indici.append(self.index.index)
                    figure.pokes[indici[0]], figure.pokes[indici[1]] = \
                        pokes[indici[1]], pokes[indici[0]]
                    pokes = figure.pokes[:p_len]
                    indici = []
                    self.rem_pokes(pokes)
                    self.index.set(0, self.map.height - 1)
                    self.add_all(pokes)
                    self.index.set(
                        pokes[self.index.index].text_name.x
                         + len(pokes[self.index.index].text_name.text) + 1,
                        pokes[self.index.index].text_name.y)
                    self.move_label.rechar(&#34;2: Move    &#34;)
                    self.submap.full_show()
            elif _ev.get() == &#34;&#39;3&#39;&#34;:
                _ev.clear()
                if ask_bool(self.submap, f&#34;Do you really want to free \
{figure.pokes[self.index.index].name}?&#34;):
                    self.rem_pokes(pokes)
                    figure.pokes[self.index.index] = Poke(&#34;__fallback__&#34;, 10, 0)
                    pokes = figure.pokes[:len(pokes)]
                    self.add_all(pokes)
                    self.index.set(
                        pokes[self.index.index].text_name.x
                         + len(pokes[self.index.index].text_name.text)
                         + 1,
                        pokes[self.index.index].text_name.y)
                    movemap.balls_label_rechar(figure.pokes)
            elif _ev.get() in [&#34;&#39;w&#39;&#34;, &#34;&#39;a&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;d&#39;&#34;]:
                self.control(pokes, _ev.get())
                _ev.clear()
            elif _ev.get() == &#34;Key.enter&#34;:
                _ev.clear()
                if len(pokes) == 0:
                    continue
                if in_fight:
                    if pokes[self.index.index].hp &gt; 0:
                        self.rem_pokes(pokes)
                        while len(self.map.obs) &gt; 0:
                            self.map.obs[0].remove()
                        self.submap.set(0, 0)
                        return self.index.index
                else:
                    self.rem_pokes(pokes)
                    ret_action = detail(pokes[self.index.index])
                    self.add_all(pokes)
                    if ret_action is not None:
                        _ev.set(&#34;&#39;q&#39;&#34;)
                        continue
                    self.submap.full_show(init=True)
            std_loop()
            if len(pokes) &gt; 0 and\
                    self.index.y - self.submap.y + 6 &gt; self.submap.height:
                self.submap.set(self.submap.x, self.submap.y + 1)
            elif len(pokes) &gt; 0 and self.index.y - 1 &lt; self.submap.y:
                self.submap.set(self.submap.x, self.submap.y - 1)
            time.sleep(0.05)
            self.submap.full_show()

    def add_all(self, pokes, init=False):
        &#34;&#34;&#34;Adds all Poketes to the deck
        ARGS:
            pokes: List of all Pokes beeing added
            init: Whether or not this happens for the first time&#34;&#34;&#34;
        j = 0
        for i, poke in enumerate(pokes):
            self.add(poke, figure, self.map,
                     1 if i % 2 == 0
                     else round(self.map.width / 2) + 1, j * 5 + 1)
            if i % 2 == 0 and init:
                se.Square(&#34;-&#34;, self.map.width - 2, 1).add(self.map, 1,
                                                          j * 5 + 5)
            if i % 2 == 1:
                j += 1

    def control(self, pokes, inp):
        &#34;&#34;&#34;Processes inputs
        ARGS:
            pokes: List of all Pokes in deck
            inp: Inputted string&#34;&#34;&#34;
        if len(pokes) &lt;= 1:
            return
        for con, stat, fir, sec in zip([&#34;&#39;a&#39;&#34;, &#34;&#39;d&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;],
                                       [self.index.index != 0,
                                        self.index.index != len(pokes) - 1,
                                        self.index.index + 2 &lt; len(pokes),
                                        self.index.index - 2 &gt;= 0],
                                       [-1, 1, 2, -2],
                                       [len(pokes) - 1, 0,
                                        self.index.index % 2,
                                        [i for i in range(len(pokes))
                                            if i % 2 ==
                                            self.index.index % 2][-1]]):
            if inp == con:
                if stat:
                    self.index.index += fir
                else:
                    self.index.index = sec
                break
        self.index.set(pokes[self.index.index].text_name.x
                        + len(pokes[self.index.index].text_name.text) + 1,
                       pokes[self.index.index].text_name.y)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pokete_classes.detail.Informer</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.Deck.add_all"><code class="name flex">
<span>def <span class="ident">add_all</span></span>(<span>self, pokes, init=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds all Poketes to the deck</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pokes</code></strong></dt>
<dd>List of all Pokes beeing added</dd>
<dt><strong><code>init</code></strong></dt>
<dd>Whether or not this happens for the first time</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_all(self, pokes, init=False):
    &#34;&#34;&#34;Adds all Poketes to the deck
    ARGS:
        pokes: List of all Pokes beeing added
        init: Whether or not this happens for the first time&#34;&#34;&#34;
    j = 0
    for i, poke in enumerate(pokes):
        self.add(poke, figure, self.map,
                 1 if i % 2 == 0
                 else round(self.map.width / 2) + 1, j * 5 + 1)
        if i % 2 == 0 and init:
            se.Square(&#34;-&#34;, self.map.width - 2, 1).add(self.map, 1,
                                                      j * 5 + 5)
        if i % 2 == 1:
            j += 1</code></pre>
</details>
</dd>
<dt id="pokete.Deck.control"><code class="name flex">
<span>def <span class="ident">control</span></span>(<span>self, pokes, inp)</span>
</code></dt>
<dd>
<div class="desc"><p>Processes inputs</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pokes</code></strong></dt>
<dd>List of all Pokes in deck</dd>
<dt><strong><code>inp</code></strong></dt>
<dd>Inputted string</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def control(self, pokes, inp):
    &#34;&#34;&#34;Processes inputs
    ARGS:
        pokes: List of all Pokes in deck
        inp: Inputted string&#34;&#34;&#34;
    if len(pokes) &lt;= 1:
        return
    for con, stat, fir, sec in zip([&#34;&#39;a&#39;&#34;, &#34;&#39;d&#39;&#34;, &#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;],
                                   [self.index.index != 0,
                                    self.index.index != len(pokes) - 1,
                                    self.index.index + 2 &lt; len(pokes),
                                    self.index.index - 2 &gt;= 0],
                                   [-1, 1, 2, -2],
                                   [len(pokes) - 1, 0,
                                    self.index.index % 2,
                                    [i for i in range(len(pokes))
                                        if i % 2 ==
                                        self.index.index % 2][-1]]):
        if inp == con:
            if stat:
                self.index.index += fir
            else:
                self.index.index = sec
            break
    self.index.set(pokes[self.index.index].text_name.x
                    + len(pokes[self.index.index].text_name.text) + 1,
                   pokes[self.index.index].text_name.y)</code></pre>
</details>
</dd>
<dt id="pokete.Deck.rem_pokes"><code class="name flex">
<span>def <span class="ident">rem_pokes</span></span>(<span>self, pokes)</span>
</code></dt>
<dd>
<div class="desc"><p>Removes all Poketes from the Deck</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pokes</code></strong></dt>
<dd>List of Pokes beeing removed</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def rem_pokes(self, pokes):
    &#34;&#34;&#34;Removes all Poketes from the Deck
    ARGS:
        pokes: List of Pokes beeing removed&#34;&#34;&#34;
    for poke in pokes:
        self.remove(poke)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.Dor"><code class="flex name class">
<span>class <span class="ident">Dor</span></span>
<span>(</span><span>char, state=None, arg_proto=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Dor class for the map to enter other maps</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Dor(se.Object):
    &#34;&#34;&#34;Dor class for the map to enter other maps&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Trigger
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        ob.remove()
        i = ob.map.name
        ob.add(ob_maps[self.arg_proto[&#34;map&#34;]], self.arg_proto[&#34;x&#34;],
               self.arg_proto[&#34;y&#34;])
        ob.oldmap = ob_maps[i]
        game(ob_maps[self.arg_proto[&#34;map&#34;]])</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="pokete.ChanceDor" href="#pokete.ChanceDor">ChanceDor</a></li>
<li><a title="pokete.DorToCenter" href="#pokete.DorToCenter">DorToCenter</a></li>
<li><a title="pokete.DorToShop" href="#pokete.DorToShop">DorToShop</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.Dor.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Trigger</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def action(self, ob):
    &#34;&#34;&#34;Trigger
    ARGS:
        ob: The object triggering this action&#34;&#34;&#34;
    ob.remove()
    i = ob.map.name
    ob.add(ob_maps[self.arg_proto[&#34;map&#34;]], self.arg_proto[&#34;x&#34;],
           self.arg_proto[&#34;y&#34;])
    ob.oldmap = ob_maps[i]
    game(ob_maps[self.arg_proto[&#34;map&#34;]])</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.DorToCenter"><code class="flex name class">
<span>class <span class="ident">DorToCenter</span></span>
</code></dt>
<dd>
<div class="desc"><p>Dor that leads to the Pokete center</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DorToCenter(Dor):
    &#34;&#34;&#34;Dor that leads to the Pokete center&#34;&#34;&#34;

    def __init__(self):
        super().__init__(&#34;#&#34;, state=&#34;float&#34;,
                         arg_proto={&#34;map&#34;: &#34;centermap&#34;,
                                    &#34;x&#34;: int(centermap.width / 2), &#34;y&#34;: 7})

    def action(self, ob):
        &#34;&#34;&#34;Triggers the dor
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        ob.last_center_map = ob.map
        super().action(ob)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pokete.Dor" href="#pokete.Dor">Dor</a></li>
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.DorToCenter.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Triggers the dor</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def action(self, ob):
    &#34;&#34;&#34;Triggers the dor
    ARGS:
        ob: The object triggering this action&#34;&#34;&#34;
    ob.last_center_map = ob.map
    super().action(ob)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.DorToShop"><code class="flex name class">
<span>class <span class="ident">DorToShop</span></span>
</code></dt>
<dd>
<div class="desc"><p>Dor that leads to the shop</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DorToShop(Dor):
    &#34;&#34;&#34;Dor that leads to the shop&#34;&#34;&#34;

    def __init__(self):
        super().__init__(&#34;#&#34;, state=&#34;float&#34;,
                         arg_proto={&#34;map&#34;: &#34;shopmap&#34;,
                                    &#34;x&#34;: int(shopmap.width / 2), &#34;y&#34;: 7})</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pokete.Dor" href="#pokete.Dor">Dor</a></li>
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pokete.Dor" href="#pokete.Dor">Dor</a></b></code>:
<ul class="hlist">
<li><code><a title="pokete.Dor.action" href="#pokete.Dor.action">action</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="pokete.ExtraActions"><code class="flex name class">
<span>class <span class="ident">ExtraActions</span></span>
</code></dt>
<dd>
<div class="desc"><p>Extra actions class to keep track of extra actions</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ExtraActions:
    &#34;&#34;&#34;Extra actions class to keep track of extra actions&#34;&#34;&#34;

    @staticmethod
    def water(obs):
        &#34;&#34;&#34;Water animation
        ARGS:
            obs: List of se.Objects that represent the water&#34;&#34;&#34;
        if settings(&#34;animations&#34;).val:
            for obj in obs:
                if random.randint(0, 9) == 0:
                    if &#34; &#34; not in obj.char:
                        obj.rechar([i for i in
                                    [Color.lightblue + &#34;~&#34; + Color.reset,
                                     Color.blue + &#34;~&#34; + Color.reset]
                                    if i != obj.char][0])
                        if obj.x == figure.x and obj.y == figure.y:
                            figure.redraw()

    @staticmethod
    def playmap_4():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_4&#34;].lake_1.obs)

    @staticmethod
    def playmap_11():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_11&#34;].lake_1.obs)

    @staticmethod
    def playmap_18():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_18&#34;].lake_1.obs)

    @staticmethod
    def playmap_21():
        &#34;&#34;&#34;Water animation&#34;&#34;&#34;
        ExtraActions.water(ob_maps[&#34;playmap_21&#34;].lake_1.obs)

    @staticmethod
    def playmap_7():
        &#34;&#34;&#34;Cave animation&#34;&#34;&#34;
        for obj in ob_maps[&#34;playmap_7&#34;].inner_walls.obs\
                   + [i.main_ob for i in ob_maps[&#34;playmap_7&#34;].trainers]\
                   + [getattr(ob_maps[&#34;playmap_7&#34;], i)
                    for i in p_data.map_data[&#34;playmap_7&#34;][&#34;balls&#34;] if
                        &#34;playmap_7.&#34; + i not in figure.used_npcs or not save_trainers]:
            if obj.added and math.sqrt((obj.y - figure.y) ** 2
                                       + (obj.x - figure.x) ** 2) &lt;= 3:
                obj.rechar(obj.bchar)
            else:
                obj.rechar(&#34; &#34;)</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="pokete.ExtraActions.playmap_11"><code class="name flex">
<span>def <span class="ident">playmap_11</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Water animation</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_11():
    &#34;&#34;&#34;Water animation&#34;&#34;&#34;
    ExtraActions.water(ob_maps[&#34;playmap_11&#34;].lake_1.obs)</code></pre>
</details>
</dd>
<dt id="pokete.ExtraActions.playmap_18"><code class="name flex">
<span>def <span class="ident">playmap_18</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Water animation</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_18():
    &#34;&#34;&#34;Water animation&#34;&#34;&#34;
    ExtraActions.water(ob_maps[&#34;playmap_18&#34;].lake_1.obs)</code></pre>
</details>
</dd>
<dt id="pokete.ExtraActions.playmap_21"><code class="name flex">
<span>def <span class="ident">playmap_21</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Water animation</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_21():
    &#34;&#34;&#34;Water animation&#34;&#34;&#34;
    ExtraActions.water(ob_maps[&#34;playmap_21&#34;].lake_1.obs)</code></pre>
</details>
</dd>
<dt id="pokete.ExtraActions.playmap_4"><code class="name flex">
<span>def <span class="ident">playmap_4</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Water animation</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_4():
    &#34;&#34;&#34;Water animation&#34;&#34;&#34;
    ExtraActions.water(ob_maps[&#34;playmap_4&#34;].lake_1.obs)</code></pre>
</details>
</dd>
<dt id="pokete.ExtraActions.playmap_7"><code class="name flex">
<span>def <span class="ident">playmap_7</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Cave animation</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_7():
    &#34;&#34;&#34;Cave animation&#34;&#34;&#34;
    for obj in ob_maps[&#34;playmap_7&#34;].inner_walls.obs\
               + [i.main_ob for i in ob_maps[&#34;playmap_7&#34;].trainers]\
               + [getattr(ob_maps[&#34;playmap_7&#34;], i)
                for i in p_data.map_data[&#34;playmap_7&#34;][&#34;balls&#34;] if
                    &#34;playmap_7.&#34; + i not in figure.used_npcs or not save_trainers]:
        if obj.added and math.sqrt((obj.y - figure.y) ** 2
                                   + (obj.x - figure.x) ** 2) &lt;= 3:
            obj.rechar(obj.bchar)
        else:
            obj.rechar(&#34; &#34;)</code></pre>
</details>
</dd>
<dt id="pokete.ExtraActions.water"><code class="name flex">
<span>def <span class="ident">water</span></span>(<span>obs)</span>
</code></dt>
<dd>
<div class="desc"><p>Water animation</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>obs</code></strong></dt>
<dd>List of se.Objects that represent the water</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def water(obs):
    &#34;&#34;&#34;Water animation
    ARGS:
        obs: List of se.Objects that represent the water&#34;&#34;&#34;
    if settings(&#34;animations&#34;).val:
        for obj in obs:
            if random.randint(0, 9) == 0:
                if &#34; &#34; not in obj.char:
                    obj.rechar([i for i in
                                [Color.lightblue + &#34;~&#34; + Color.reset,
                                 Color.blue + &#34;~&#34; + Color.reset]
                                if i != obj.char][0])
                    if obj.x == figure.x and obj.y == figure.y:
                        figure.redraw()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.Figure"><code class="flex name class">
<span>class <span class="ident">Figure</span></span>
<span>(</span><span>_si)</span>
</code></dt>
<dd>
<div class="desc"><p>The figure that moves around on the map and represents the player</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_si</code></strong></dt>
<dd>session_info dict</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Figure(se.Object):
    &#34;&#34;&#34;The figure that moves around on the map and represents the player
    ARGS:
        _si: session_info dict&#34;&#34;&#34;

    def __init__(self, _si):
        super().__init__(&#34;a&#34;, state=&#34;solid&#34;)
        self.__money = _si.get(&#34;money&#34;, 10)
        self.inv = _si.get(&#34;inv&#34;, {&#34;poketeballs&#34;: 10})
        self.name = _si.get(&#34;user&#34;, &#34;DEFAULT&#34;)
        self.pokes = [Poke((_p := _si[&#34;pokes&#34;][poke])[&#34;name&#34;], _p[&#34;xp&#34;],
                           _p[&#34;hp&#34;], _p[&#34;ap&#34;], _p.get(&#34;attacks&#34;, None),
                           _p.get(&#34;effects&#34;, []),
                           shiny=_p.get(&#34;shiny&#34;, False))
                      for poke in _si[&#34;pokes&#34;]]
        self.caught_pokes = _si.get(&#34;caught_poketes&#34;, [])
        self.visited_maps = _si.get(&#34;visited_maps&#34;, [&#34;playmap_1&#34;])
        self.used_npcs = _si.get(&#34;used_npcs&#34;, [])
        self.last_center_map = ob_maps[_si.get(&#34;last_center_map&#34;, &#34;playmap_1&#34;)]
        self.oldmap = ob_maps[_si.get(&#34;oldmap&#34;, &#34;playmap_1&#34;)]
        self.direction = &#34;t&#34;

    def set_args(self, _si):
        &#34;&#34;&#34;Processes data from save file
        ARGS:
            _si: session_info dict&#34;&#34;&#34;
        try:
            # Looking if figure would be in centermap,
            # so the player may spawn out of the center
            if _si[&#34;map&#34;] in [&#34;centermap&#34;, &#34;shopmap&#34;]:
                _map = ob_maps[_si[&#34;map&#34;]]
                self.add(_map, _map.dor_back1.x, _map.dor_back1.y - 1)
            else:
                if self.add(ob_maps[_si[&#34;map&#34;]], _si[&#34;x&#34;], _si[&#34;y&#34;]) == 1:
                    raise se.CoordinateError(self, ob_maps[_si[&#34;map&#34;]],
                                             _si[&#34;x&#34;], _si[&#34;y&#34;])
        except se.CoordinateError:
            self.add(ob_maps[&#34;playmap_1&#34;], 6, 5)
        movemap.name_label.rechar(self.name, esccode=Color.thicc)
        movemap.code_label.rechar(self.map.pretty_name)
        movemap.balls_label_rechar(self.pokes)
        movemap.add_obs()

    def add_money(self, money):
        &#34;&#34;&#34;Adds money
        ARGS:
            money: Amount of money beeing added&#34;&#34;&#34;
        self.set_money(self.__money + money)

    def get_money(self):
        &#34;&#34;&#34;Getter for __money
        RETURNS:
            The current money&#34;&#34;&#34;
        return self.__money

    def set_money(self, money):
        &#34;&#34;&#34;Sets the money to a certain value
        ARGS:
            money: New value&#34;&#34;&#34;
        assert money &gt;= 0, &#34;money has to be positive&#34;
        logging.info(&#34;[Figure] Money set to %d$ from %d$&#34;,
                     money, self.__money)
        self.__money = money
        for cls in [inv, buy]:
            cls.money_label.rechar(str(self.__money) + &#34;$&#34;)
            cls.box.set_ob(cls.money_label,
                           cls.box.width - 2 - len(cls.money_label.text), 0)

    def add_poke(self, poke, idx=None):
        &#34;&#34;&#34;Adds a Pokete to the players Poketes
        ARGS:
            poke: Poke object beeing added
            idx: Index of the Poke&#34;&#34;&#34;
        poke.set_player(True)
        figure.caught_pokes.append(poke.identifier)
        if idx is None:
            self.pokes.append(poke)
        else:
            self.pokes[idx] = poke
        logging.info(&#34;[Figure] Added Poke %s&#34;, poke.name)

    def give_item(self, item, amount=1):
        &#34;&#34;&#34;Gives an item to the player&#34;&#34;&#34;
        assert amount &gt; 0, &#34;Amounts have to be positive&#34;
        if item not in self.inv:
            self.inv[item] = amount
        else:
            self.inv[item] += amount
        logging.info(&#34;[Figure] %d %s(s) given&#34;, amount, item)

    def has_item(self, item):
        &#34;&#34;&#34;Checks if an item is already present
        ARGS:
            item: Generic item name
        RETURNS:
            If the player has this item&#34;&#34;&#34;
        return item in self.inv and self.inv[item] &gt; 0

    def remove_item(self, item, amount=1):
        &#34;&#34;&#34;Removes a certain amount of an item from the inv
        ARGS:
            item: Generic item name
            amount: Amount of items beeing removed&#34;&#34;&#34;
        assert amount &gt; 0, &#34;Amounts have to be positive&#34;
        assert item in self.inv, f&#34;Item {item} is not in the inventory&#34;
        assert self.inv[item] - amount &gt;= 0, f&#34;There are not enought {item}s \
in the inventory&#34;
        self.inv[item] -= amount
        logging.info(&#34;[Figure] %d %s(s) removed&#34;, amount, item)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.Figure.add_money"><code class="name flex">
<span>def <span class="ident">add_money</span></span>(<span>self, money)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds money</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>money</code></strong></dt>
<dd>Amount of money beeing added</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_money(self, money):
    &#34;&#34;&#34;Adds money
    ARGS:
        money: Amount of money beeing added&#34;&#34;&#34;
    self.set_money(self.__money + money)</code></pre>
</details>
</dd>
<dt id="pokete.Figure.add_poke"><code class="name flex">
<span>def <span class="ident">add_poke</span></span>(<span>self, poke, idx=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a Pokete to the players Poketes</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>poke</code></strong></dt>
<dd>Poke object beeing added</dd>
<dt><strong><code>idx</code></strong></dt>
<dd>Index of the Poke</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_poke(self, poke, idx=None):
    &#34;&#34;&#34;Adds a Pokete to the players Poketes
    ARGS:
        poke: Poke object beeing added
        idx: Index of the Poke&#34;&#34;&#34;
    poke.set_player(True)
    figure.caught_pokes.append(poke.identifier)
    if idx is None:
        self.pokes.append(poke)
    else:
        self.pokes[idx] = poke
    logging.info(&#34;[Figure] Added Poke %s&#34;, poke.name)</code></pre>
</details>
</dd>
<dt id="pokete.Figure.get_money"><code class="name flex">
<span>def <span class="ident">get_money</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Getter for __money</p>
<h2 id="returns">Returns</h2>
<p>The current money</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_money(self):
    &#34;&#34;&#34;Getter for __money
    RETURNS:
        The current money&#34;&#34;&#34;
    return self.__money</code></pre>
</details>
</dd>
<dt id="pokete.Figure.give_item"><code class="name flex">
<span>def <span class="ident">give_item</span></span>(<span>self, item, amount=1)</span>
</code></dt>
<dd>
<div class="desc"><p>Gives an item to the player</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def give_item(self, item, amount=1):
    &#34;&#34;&#34;Gives an item to the player&#34;&#34;&#34;
    assert amount &gt; 0, &#34;Amounts have to be positive&#34;
    if item not in self.inv:
        self.inv[item] = amount
    else:
        self.inv[item] += amount
    logging.info(&#34;[Figure] %d %s(s) given&#34;, amount, item)</code></pre>
</details>
</dd>
<dt id="pokete.Figure.has_item"><code class="name flex">
<span>def <span class="ident">has_item</span></span>(<span>self, item)</span>
</code></dt>
<dd>
<div class="desc"><p>Checks if an item is already present</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>item</code></strong></dt>
<dd>Generic item name</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>If the player has this item</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def has_item(self, item):
    &#34;&#34;&#34;Checks if an item is already present
    ARGS:
        item: Generic item name
    RETURNS:
        If the player has this item&#34;&#34;&#34;
    return item in self.inv and self.inv[item] &gt; 0</code></pre>
</details>
</dd>
<dt id="pokete.Figure.remove_item"><code class="name flex">
<span>def <span class="ident">remove_item</span></span>(<span>self, item, amount=1)</span>
</code></dt>
<dd>
<div class="desc"><p>Removes a certain amount of an item from the inv</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>item</code></strong></dt>
<dd>Generic item name</dd>
<dt><strong><code>amount</code></strong></dt>
<dd>Amount of items beeing removed</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    def remove_item(self, item, amount=1):
        &#34;&#34;&#34;Removes a certain amount of an item from the inv
        ARGS:
            item: Generic item name
            amount: Amount of items beeing removed&#34;&#34;&#34;
        assert amount &gt; 0, &#34;Amounts have to be positive&#34;
        assert item in self.inv, f&#34;Item {item} is not in the inventory&#34;
        assert self.inv[item] - amount &gt;= 0, f&#34;There are not enought {item}s \
in the inventory&#34;
        self.inv[item] -= amount
        logging.info(&#34;[Figure] %d %s(s) removed&#34;, amount, item)</code></pre>
</details>
</dd>
<dt id="pokete.Figure.set_args"><code class="name flex">
<span>def <span class="ident">set_args</span></span>(<span>self, _si)</span>
</code></dt>
<dd>
<div class="desc"><p>Processes data from save file</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_si</code></strong></dt>
<dd>session_info dict</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_args(self, _si):
    &#34;&#34;&#34;Processes data from save file
    ARGS:
        _si: session_info dict&#34;&#34;&#34;
    try:
        # Looking if figure would be in centermap,
        # so the player may spawn out of the center
        if _si[&#34;map&#34;] in [&#34;centermap&#34;, &#34;shopmap&#34;]:
            _map = ob_maps[_si[&#34;map&#34;]]
            self.add(_map, _map.dor_back1.x, _map.dor_back1.y - 1)
        else:
            if self.add(ob_maps[_si[&#34;map&#34;]], _si[&#34;x&#34;], _si[&#34;y&#34;]) == 1:
                raise se.CoordinateError(self, ob_maps[_si[&#34;map&#34;]],
                                         _si[&#34;x&#34;], _si[&#34;y&#34;])
    except se.CoordinateError:
        self.add(ob_maps[&#34;playmap_1&#34;], 6, 5)
    movemap.name_label.rechar(self.name, esccode=Color.thicc)
    movemap.code_label.rechar(self.map.pretty_name)
    movemap.balls_label_rechar(self.pokes)
    movemap.add_obs()</code></pre>
</details>
</dd>
<dt id="pokete.Figure.set_money"><code class="name flex">
<span>def <span class="ident">set_money</span></span>(<span>self, money)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets the money to a certain value</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>money</code></strong></dt>
<dd>New value</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_money(self, money):
    &#34;&#34;&#34;Sets the money to a certain value
    ARGS:
        money: New value&#34;&#34;&#34;
    assert money &gt;= 0, &#34;money has to be positive&#34;
    logging.info(&#34;[Figure] Money set to %d$ from %d$&#34;,
                 money, self.__money)
    self.__money = money
    for cls in [inv, buy]:
        cls.money_label.rechar(str(self.__money) + &#34;$&#34;)
        cls.box.set_ob(cls.money_label,
                       cls.box.width - 2 - len(cls.money_label.text), 0)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.HightGrass"><code class="flex name class">
<span>class <span class="ident">HightGrass</span></span>
<span>(</span><span>char, state=None, arg_proto=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Object on the map, that triggers a fight</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class HightGrass(se.Object):
    &#34;&#34;&#34;Object on the map, that triggers a fight&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Action triggers the fight
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        if random.randint(0, 8) == 0:
            fight(Poke(&#34;__fallback__&#34;, 0)
                  if len([poke for poke in figure.pokes[:6]
                          if poke.hp &gt; 0]) == 0
                  else [poke for poke in figure.pokes[:6] if poke.hp &gt; 0][0],
                  Poke(random.choices(self.arg_proto[&#34;pokes&#34;],
                                      weights=[p_data.pokes[i][&#34;rarity&#34;]
                                               for i in
                                               self.arg_proto[&#34;pokes&#34;]])[0],
                       random.choices(list(range(self.arg_proto[&#34;minlvl&#34;],
                                                 self.arg_proto[&#34;maxlvl&#34;])))[0],
                       player=False, shiny=(random.randint(0, 500) == 0)))
            check_walk_back()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.HightGrass.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Action triggers the fight</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def action(self, ob):
    &#34;&#34;&#34;Action triggers the fight
    ARGS:
        ob: The object triggering this action&#34;&#34;&#34;
    if random.randint(0, 8) == 0:
        fight(Poke(&#34;__fallback__&#34;, 0)
              if len([poke for poke in figure.pokes[:6]
                      if poke.hp &gt; 0]) == 0
              else [poke for poke in figure.pokes[:6] if poke.hp &gt; 0][0],
              Poke(random.choices(self.arg_proto[&#34;pokes&#34;],
                                  weights=[p_data.pokes[i][&#34;rarity&#34;]
                                           for i in
                                           self.arg_proto[&#34;pokes&#34;]])[0],
                   random.choices(list(range(self.arg_proto[&#34;minlvl&#34;],
                                             self.arg_proto[&#34;maxlvl&#34;])))[0],
                   player=False, shiny=(random.randint(0, 500) == 0)))
        check_walk_back()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.Inv"><code class="flex name class">
<span>class <span class="ident">Inv</span></span>
<span>(</span><span>_map)</span>
</code></dt>
<dd>
<div class="desc"><p>Inventory to see and manage items in</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_map</code></strong></dt>
<dd>se.Map this will be shown on</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Inv:
    &#34;&#34;&#34;Inventory to see and manage items in
    ARGS:
        _map: se.Map this will be shown on&#34;&#34;&#34;

    def __init__(self, _map):
        self.map = _map
        self.box = ChooseBox(_map.height - 3, 35, &#34;Inventory&#34;, &#34;R:remove&#34;)
        self.box2 = Box(7, 21)
        self.money_label = se.Text(f&#34;{figure.get_money()}$&#34;)
        self.desc_label = se.Text(&#34; &#34;)
        # adding
        self.box.add_ob(self.money_label,
                        self.box.width - 2 - len(self.money_label.text), 0)
        self.box2.add_ob(self.desc_label, 1, 1)

    def __call__(self):
        &#34;&#34;&#34;Opens the inventory&#34;&#34;&#34;
        _ev.clear()
        items = self.add()
        with self.box.add(self.map, self.map.width - 35, 0):
            while True:
                if _ev.get() in [&#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;]:
                    self.box.input(_ev.get())
                    _ev.clear()
                elif _ev.get() in [&#34;&#39;4&#39;&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                    break
                elif _ev.get() == &#34;Key.enter&#34;:
                    obj = items[self.box.index.index]
                    self.box2.name_label.rechar(obj.pretty_name)
                    self.desc_label.rechar(liner(obj.desc, 19))
                    self.box2.add(self.map, self.box.x - 19, 3)
                    _ev.clear()
                    while True:
                        if _ev.get() == &#34;exit&#34;:
                            raise KeyboardInterrupt
                        elif _ev.get() in [&#34;Key.enter&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                            _ev.clear()
                            self.box2.remove()
                            if type(obj) is LearnDisc:
                                if ask_bool(self.map, f&#34;Do you want to teach &#39;\
{obj.attack_dict[&#39;name&#39;]}&#39;?&#34;):
                                    ex_cond = True
                                    while ex_cond:
                                        index = deck(6, label=&#34;Your deck&#34;,
                                                     in_fight=True)
                                        if index is None:
                                            ex_cond = False
                                            self.map.show(init=True)
                                            break
                                        poke = figure.pokes[index]
                                        if getattr(types,
                                                   obj.attack_dict[&#39;types&#39;][0])\
                                                in poke.types:
                                            break
                                        else:
                                            ex_cond = ask_bool(self.map,
                                                               f&#34;You cant&#39;t \
teach &#39;{obj.attack_dict[&#39;name&#39;]}&#39; to &#39;{poke.name}&#39;! \nDo you want to continue?&#34;)
                                    if not ex_cond:
                                        break
                                    if LearnAttack(poke, self.map)\
                                            (obj.attack_name):
                                        items = self.rem_item(obj.name, items)
                                        if len(items) == 0:
                                            break
                                    _ev.clear()
                            break
                        time.sleep(0.05)
                        self.map.show()
                elif _ev.get() == &#34;&#39;r&#39;&#34;:
                    if ask_bool(self.map,
                                f&#34;Do you really want to throw \
{items[self.box.index.index].pretty_name} away?&#34;):
                        items = self.rem_item(items[self.box.index.index].name,
                                              items)
                        if len(items) == 0:
                            break
                    _ev.clear()
                std_loop()
                time.sleep(0.05)
                self.map.show()
        self.box.remove_c_obs()

    def rem_item(self, name, items):
        &#34;&#34;&#34;Removes an item from the inv
        ARGS:
            name: Items name
            items: List of Items
        RETURNS:
            List of Items&#34;&#34;&#34;
        figure.remove_item(name)
        for obj in self.box.c_obs:
            obj.remove()
        self.box.remove_c_obs()
        items = self.add()
        if not items:
            return items
        if self.box.index.index &gt;= len(items):
            self.box.set_index(len(items) - 1)
        return items

    def add(self):
        &#34;&#34;&#34;Adds all items to the box
        RETURNS:
            List of Items&#34;&#34;&#34;
        items = [getattr(invitems, i) for i in figure.inv if figure.inv[i] &gt; 0]
        self.box.add_c_obs([se.Text(f&#34;{i.pretty_name}s : {figure.inv[i.name]}&#34;)
                            for i in items])
        return items</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="pokete.Inv.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds all items to the box</p>
<h2 id="returns">Returns</h2>
<p>List of Items</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(self):
    &#34;&#34;&#34;Adds all items to the box
    RETURNS:
        List of Items&#34;&#34;&#34;
    items = [getattr(invitems, i) for i in figure.inv if figure.inv[i] &gt; 0]
    self.box.add_c_obs([se.Text(f&#34;{i.pretty_name}s : {figure.inv[i.name]}&#34;)
                        for i in items])
    return items</code></pre>
</details>
</dd>
<dt id="pokete.Inv.rem_item"><code class="name flex">
<span>def <span class="ident">rem_item</span></span>(<span>self, name, items)</span>
</code></dt>
<dd>
<div class="desc"><p>Removes an item from the inv</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>name</code></strong></dt>
<dd>Items name</dd>
<dt><strong><code>items</code></strong></dt>
<dd>List of Items</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>List of Items</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def rem_item(self, name, items):
    &#34;&#34;&#34;Removes an item from the inv
    ARGS:
        name: Items name
        items: List of Items
    RETURNS:
        List of Items&#34;&#34;&#34;
    figure.remove_item(name)
    for obj in self.box.c_obs:
        obj.remove()
    self.box.remove_c_obs()
    items = self.add()
    if not items:
        return items
    if self.box.index.index &gt;= len(items):
        self.box.set_index(len(items) - 1)
    return items</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.Meadow"><code class="flex name class">
<span>class <span class="ident">Meadow</span></span>
<span>(</span><span>string, poke_args)</span>
</code></dt>
<dd>
<div class="desc"><p>Daughter of se.Text to better organize Highgrass</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>string</code></strong></dt>
<dd>The character representing the meadow</dd>
<dt><strong><code>poke_args</code></strong></dt>
<dd>Dict containing relevant information about Pokes</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Meadow(se.Text):
    &#34;&#34;&#34;Daughter of se.Text to better organize Highgrass
    ARGS:
        string: The character representing the meadow
        poke_args: Dict containing relevant information about Pokes&#34;&#34;&#34;
    esccode = Color.green

    def __init__(self, string, poke_args):
        super().__init__(string, ignore=self.esccode + &#34; &#34; + Color.reset,
                         ob_class=HightGrass, ob_args=poke_args,
                         state=&#34;float&#34;, esccode=self.esccode)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Text</li>
<li>scrap_engine.ObjectGroup</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="pokete.Water" href="#pokete.Water">Water</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="pokete.Meadow.esccode"><code class="name">var <span class="ident">esccode</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="pokete.Menu"><code class="flex name class">
<span>class <span class="ident">Menu</span></span>
<span>(</span><span>_map)</span>
</code></dt>
<dd>
<div class="desc"><p>Menu to manage settings and other stuff in</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_map</code></strong></dt>
<dd>se.Map this will be shown on</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Menu:
    &#34;&#34;&#34;Menu to manage settings and other stuff in
    ARGS:
        _map: se.Map this will be shown on&#34;&#34;&#34;

    def __init__(self, _map):
        self.map = _map
        self.box = ChooseBox(_map.height - 3, 35, &#34;Menu&#34;)
        self.playername_label = se.Text(&#34;Playername: &#34;, state=&#34;float&#34;)
        self.mods_label = se.Text(&#34;Mods&#34;, state=&#34;float&#34;)
        self.ach_label = se.Text(&#34;Achievements&#34;, state=&#34;float&#34;)
        self.about_label = se.Text(&#34;About&#34;, state=&#34;float&#34;)
        self.save_label = se.Text(&#34;Save&#34;, state=&#34;float&#34;)
        self.exit_label = se.Text(&#34;Exit&#34;, state=&#34;float&#34;)
        self.realname_label = se.Text(session_info[&#34;user&#34;], state=&#34;float&#34;)
        self.box.add_c_obs([self.playername_label,
                            VisSetting(&#34;Autosave&#34;, &#34;autosave&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            VisSetting(&#34;Animations&#34;, &#34;animations&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            VisSetting(&#34;Save trainers&#34;, &#34;save_trainers&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            VisSetting(&#34;Load mods&#34;, &#34;load_mods&#34;,
                                       {True: &#34;On&#34;, False: &#34;Off&#34;}),
                            self.mods_label, self.ach_label,
                            self.about_label, self.save_label,
                            self.exit_label])
        # adding
        self.box.add_ob(self.realname_label,
                        self.playername_label.rx
                        + len(self.playername_label.text),
                        self.playername_label.ry)

    def __call__(self):
        &#34;&#34;&#34;Opens the menu&#34;&#34;&#34;
        _ev.clear()
        self.realname_label.rechar(figure.name)
        with self.box.add(self.map, self.map.width - self.box.width, 0):
            while True:
                if _ev.get() == &#34;Key.enter&#34;:
                    _ev.clear()
                    # Fuck python for not having case statements
                    if (i := self.box.c_obs[self.box.index.index]) ==\
                            self.playername_label:
                        figure.name = text_input(self.realname_label,
                                                 self.map,
                                                 figure.name, 18, 17)
                        self.map.name_label_rechar(figure.name)
                    elif i == self.mods_label:
                        ModInfo(movemap, mods.mod_info)()
                    elif i == self.save_label:
                        # When will python3.10 come out?
                        with InfoBox(&#34;Saving....&#34;, info=&#34;&#34;, _map=self.map):
                            # Shows a box displaying &#34;Saving....&#34; while saving
                            save()
                            time.sleep(1.5)
                    elif i == self.exit_label:
                        save()
                        exiter()
                    elif i == self.about_label:
                        about()
                    elif i == self.ach_label:
                        AchievementOverview()(movemap)
                    else:
                        i.change()
                elif _ev.get() in [&#34;&#39;s&#39;&#34;, &#34;&#39;w&#39;&#34;]:
                    self.box.input(_ev.get())
                    _ev.clear()
                elif _ev.get() in [&#34;&#39;e&#39;&#34;, &#34;Key.esc&#34;, &#34;&#39;q&#39;&#34;]:
                    _ev.clear()
                    break
                std_loop()
                time.sleep(0.05)
                self.map.show()</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions"><code class="flex name class">
<span>class <span class="ident">NPCActions</span></span>
</code></dt>
<dd>
<div class="desc"><p>This class contains all functions callable by NPCs
All this methods follow the same pattern:
ARGS:
npc: The NPC the method belongs to</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NPCActions:
    &#34;&#34;&#34;This class contains all functions callable by NPCs
    All this methods follow the same pattern:
        ARGS:
            npc: The NPC the method belongs to&#34;&#34;&#34;

    @staticmethod
    def swap_poke(npc):
        &#34;&#34;&#34;Swap_poke wrapper&#34;&#34;&#34;
        swap_poke()

    @staticmethod
    def heal(npc):
        &#34;&#34;&#34;Heal wrapper&#34;&#34;&#34;
        heal()

    @staticmethod
    def playmap_17_boy(npc):
        &#34;&#34;&#34;Interaction with boy&#34;&#34;&#34;
        if &#34;choka&#34; in [i.identifier for i in figure.pokes[:6]]:
            npc.text([&#34; &lt; Oh, cool!&#34;, &#34; &lt; You have a Choka!&#34;,
                      &#34; &lt; I&#39;ve never seen one before!&#34;,
                      &#34; &lt; Here you go, 200$&#34;])
            if ask_bool(movemap,
                        &#34;Young boy gifted you 200$. Do you want to accept it?&#34;):
                figure.add_money(200)
            npc.will = False
            figure.used_npcs.append(npc.name)
        else:
            npc.text([&#34; &lt; In this region lives the wÃ¼rgos Pokete.&#34;,
                      f&#34; &lt; At level {p_data.pokes[&#39;wÃ¼rgos&#39;][&#39;evolve_lvl&#39;]} \
it evolves to Choka.&#34;,
                      &#34; &lt; I have never seen one before!&#34;])

    @staticmethod
    def playmap_20_trader(npc):
        &#34;&#34;&#34;Interaction with trader&#34;&#34;&#34;
        if ask_bool(movemap, &#34;Do you want to trade a Pokete?&#34;):
            if (index := deck(6, &#34;Your deck&#34;, True)) is None:
                return
            figure.add_poke(Poke(&#34;ostri&#34;, 500), index)
            figure.used_npcs.append(npc.name)
            ask_ok(movemap,
                   f&#34;You received: {figure.pokes[index].name.capitalize()} \
at level {figure.pokes[index].lvl()}.&#34;)
            movemap.text(npc.x, npc.y, [&#34; &lt; Cool, huh?&#34;])

    @staticmethod
    def playmap_23_npc_8(npc):
        &#34;&#34;&#34;Interaction with npc_8&#34;&#34;&#34;
        if ask_bool(movemap,
                    &#34;The man gifted you 100$. Do you want to accept it?&#34;):
            npc.will = False
            figure.used_npcs.append(npc.name)
            figure.add_money(100)

    @staticmethod
    def playmap_10_old_man(npc):
        &#34;&#34;&#34;Interaction with ld_man&#34;&#34;&#34;
        npc.give(&#34;Old man&#34;, &#34;hyperball&#34;)

    @staticmethod
    def playmap_29_ld_man(npc):
        &#34;&#34;&#34;Interaction with ld_man&#34;&#34;&#34;
        npc.give(&#34;The man&#34;, &#34;ld_flying&#34;)

    @staticmethod
    def playmap_32_npc_12(npc):
        &#34;&#34;&#34;Interaction with npc_12&#34;&#34;&#34;
        npc.give(&#34;Old man&#34;, &#34;hyperball&#34;)

    @staticmethod
    def playmap_36_npc_14(npc):
        &#34;&#34;&#34;Interaction with npc_14&#34;&#34;&#34;
        npc.give(&#34;Old woman&#34;, &#34;ap_potion&#34;)

    @staticmethod
    def playmap_37_npc_15(npc):
        &#34;&#34;&#34;Interaction with npc_14&#34;&#34;&#34;
        npc.give(&#34;Bert the bird&#34;, &#34;super_potion&#34;)</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="pokete.NPCActions.heal"><code class="name flex">
<span>def <span class="ident">heal</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Heal wrapper</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def heal(npc):
    &#34;&#34;&#34;Heal wrapper&#34;&#34;&#34;
    heal()</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_10_old_man"><code class="name flex">
<span>def <span class="ident">playmap_10_old_man</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with ld_man</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_10_old_man(npc):
    &#34;&#34;&#34;Interaction with ld_man&#34;&#34;&#34;
    npc.give(&#34;Old man&#34;, &#34;hyperball&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_17_boy"><code class="name flex">
<span>def <span class="ident">playmap_17_boy</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with boy</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    @staticmethod
    def playmap_17_boy(npc):
        &#34;&#34;&#34;Interaction with boy&#34;&#34;&#34;
        if &#34;choka&#34; in [i.identifier for i in figure.pokes[:6]]:
            npc.text([&#34; &lt; Oh, cool!&#34;, &#34; &lt; You have a Choka!&#34;,
                      &#34; &lt; I&#39;ve never seen one before!&#34;,
                      &#34; &lt; Here you go, 200$&#34;])
            if ask_bool(movemap,
                        &#34;Young boy gifted you 200$. Do you want to accept it?&#34;):
                figure.add_money(200)
            npc.will = False
            figure.used_npcs.append(npc.name)
        else:
            npc.text([&#34; &lt; In this region lives the wÃ¼rgos Pokete.&#34;,
                      f&#34; &lt; At level {p_data.pokes[&#39;wÃ¼rgos&#39;][&#39;evolve_lvl&#39;]} \
it evolves to Choka.&#34;,
                      &#34; &lt; I have never seen one before!&#34;])</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_20_trader"><code class="name flex">
<span>def <span class="ident">playmap_20_trader</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with trader</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    @staticmethod
    def playmap_20_trader(npc):
        &#34;&#34;&#34;Interaction with trader&#34;&#34;&#34;
        if ask_bool(movemap, &#34;Do you want to trade a Pokete?&#34;):
            if (index := deck(6, &#34;Your deck&#34;, True)) is None:
                return
            figure.add_poke(Poke(&#34;ostri&#34;, 500), index)
            figure.used_npcs.append(npc.name)
            ask_ok(movemap,
                   f&#34;You received: {figure.pokes[index].name.capitalize()} \
at level {figure.pokes[index].lvl()}.&#34;)
            movemap.text(npc.x, npc.y, [&#34; &lt; Cool, huh?&#34;])</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_23_npc_8"><code class="name flex">
<span>def <span class="ident">playmap_23_npc_8</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with npc_8</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_23_npc_8(npc):
    &#34;&#34;&#34;Interaction with npc_8&#34;&#34;&#34;
    if ask_bool(movemap,
                &#34;The man gifted you 100$. Do you want to accept it?&#34;):
        npc.will = False
        figure.used_npcs.append(npc.name)
        figure.add_money(100)</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_29_ld_man"><code class="name flex">
<span>def <span class="ident">playmap_29_ld_man</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with ld_man</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_29_ld_man(npc):
    &#34;&#34;&#34;Interaction with ld_man&#34;&#34;&#34;
    npc.give(&#34;The man&#34;, &#34;ld_flying&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_32_npc_12"><code class="name flex">
<span>def <span class="ident">playmap_32_npc_12</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with npc_12</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_32_npc_12(npc):
    &#34;&#34;&#34;Interaction with npc_12&#34;&#34;&#34;
    npc.give(&#34;Old man&#34;, &#34;hyperball&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_36_npc_14"><code class="name flex">
<span>def <span class="ident">playmap_36_npc_14</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with npc_14</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_36_npc_14(npc):
    &#34;&#34;&#34;Interaction with npc_14&#34;&#34;&#34;
    npc.give(&#34;Old woman&#34;, &#34;ap_potion&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.playmap_37_npc_15"><code class="name flex">
<span>def <span class="ident">playmap_37_npc_15</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Interaction with npc_14</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def playmap_37_npc_15(npc):
    &#34;&#34;&#34;Interaction with npc_14&#34;&#34;&#34;
    npc.give(&#34;Bert the bird&#34;, &#34;super_potion&#34;)</code></pre>
</details>
</dd>
<dt id="pokete.NPCActions.swap_poke"><code class="name flex">
<span>def <span class="ident">swap_poke</span></span>(<span>npc)</span>
</code></dt>
<dd>
<div class="desc"><p>Swap_poke wrapper</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def swap_poke(npc):
    &#34;&#34;&#34;Swap_poke wrapper&#34;&#34;&#34;
    swap_poke()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.Poketeball"><code class="flex name class">
<span>class <span class="ident">Poketeball</span></span>
<span>(</span><span>name)</span>
</code></dt>
<dd>
<div class="desc"><p>Poketeball that can be picked up on the map</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>name</code></strong></dt>
<dd>Generic name of the ball</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Poketeball(se.Object):
    &#34;&#34;&#34;Poketeball that can be picked up on the map
    ARGS:
        name: Generic name of the ball&#34;&#34;&#34;

    def __init__(self, name):
        self.name = name
        super().__init__(Color.thicc + Color.red + &#34;o&#34; + Color.reset,
                         state=&#34;float&#34;)

    def action(self, ob):
        &#34;&#34;&#34;Action triggers the pick up
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        amount = random.choices([1, 2, 3],
                                weights=[10, 2, 1], k=1)[0]
        item = random.choices([&#34;poketeball&#34;, &#34;hyperball&#34;, &#34;superball&#34;,
                               &#34;healing_potion&#34;],
                              weights=[10, 1.5, 1, 1],
                              k=1)[0]
        figure.give_item(item, amount)
        self.remove()
        movemap.full_show()
        ask_ok(movemap, f&#34;You found {amount if amount &gt; 1 else &#39;a&#39;} \
{p_data.items[item][&#39;pretty_name&#39;]}{&#39;s&#39; if amount &gt; 1 else &#39;&#39;}!&#34;)
        figure.used_npcs.append(self.name)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.Poketeball.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Action triggers the pick up</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    def action(self, ob):
        &#34;&#34;&#34;Action triggers the pick up
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        amount = random.choices([1, 2, 3],
                                weights=[10, 2, 1], k=1)[0]
        item = random.choices([&#34;poketeball&#34;, &#34;hyperball&#34;, &#34;superball&#34;,
                               &#34;healing_potion&#34;],
                              weights=[10, 1.5, 1, 1],
                              k=1)[0]
        figure.give_item(item, amount)
        self.remove()
        movemap.full_show()
        ask_ok(movemap, f&#34;You found {amount if amount &gt; 1 else &#39;a&#39;} \
{p_data.items[item][&#39;pretty_name&#39;]}{&#39;s&#39; if amount &gt; 1 else &#39;&#39;}!&#34;)
        figure.used_npcs.append(self.name)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.ShopInteract"><code class="flex name class">
<span>class <span class="ident">ShopInteract</span></span>
<span>(</span><span>char, state=None, arg_proto=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Triggers an conversation in the shop</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ShopInteract(se.Object):
    &#34;&#34;&#34;Triggers an conversation in the shop&#34;&#34;&#34;

    def action(self, ob):
        &#34;&#34;&#34;Triggers an interaction in the shop
        ARGS:
            ob: The object triggering this action&#34;&#34;&#34;
        _ev.clear()
        movemap.full_show()
        movemap.text(int(movemap.width / 2), 3,
                     [&#34; &lt; Welcome to the Pokete-Shop&#34;,
                      &#34; &lt; Wanna buy something?&#34;])
        buy()
        movemap.full_show(init=True)
        movemap.text(int(movemap.width / 2), 3, [&#34; &lt; Have a great day!&#34;])</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrap_engine.Object</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="pokete.ShopInteract.action"><code class="name flex">
<span>def <span class="ident">action</span></span>(<span>self, ob)</span>
</code></dt>
<dd>
<div class="desc"><p>Triggers an interaction in the shop</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>ob</code></strong></dt>
<dd>The object triggering this action</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def action(self, ob):
    &#34;&#34;&#34;Triggers an interaction in the shop
    ARGS:
        ob: The object triggering this action&#34;&#34;&#34;
    _ev.clear()
    movemap.full_show()
    movemap.text(int(movemap.width / 2), 3,
                 [&#34; &lt; Welcome to the Pokete-Shop&#34;,
                  &#34; &lt; Wanna buy something?&#34;])
    buy()
    movemap.full_show(init=True)
    movemap.text(int(movemap.width / 2), 3, [&#34; &lt; Have a great day!&#34;])</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pokete.ShopMap"><code class="flex name class">
<span>class <span class="ident">ShopMap</span></span>
<span>(</span><span>_he, _wi)</span>
</code></dt>
<dd>
<div class="desc"><p>Contains all relevant objects for shopmap</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>_he</code></strong></dt>
<dd>The maps height</dd>
<dt><strong><code>_wi</code></strong></dt>
<dd>The maps width</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ShopMap(PlayMap):
    &#34;&#34;&#34;Contains all relevant objects for shopmap
    ARGS:
        _he: The maps height
        _wi: The maps width &#34;&#34;&#34;

    def __init__(self, _he, _wi):
        super().__init__(_he, _wi, name=&#34;shopmap&#34;,
                         pretty_name=&#34;Pokete-Shop&#34;)
        self.inner = se.Text(&#34;&#34;&#34; __________________
 |________________|
 |      |a |      |
 |      Â¯ Â¯Â¯      |
 |                |
 |_______  _______|
 |______|  |______|&#34;&#34;&#34;, ignore=&#34; &#34;)
        self.interact = ShopInteract(&#34;Â¯&#34;, state=&#34;float&#34;)
        self.dor_back1 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        self.dor_back2 = CenterDor(&#34; &#34;, state=&#34;float&#34;)
        # adding
        self.dor_back1.add(self, int(self.width / 2), 8)
        self.dor_back2.add(self, int(self.width / 2) + 1, 8)
        self.inner.add(self, int(self.width / 2) - 9, 1)
        self.interact.add(self, int(self.width / 2), 4)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pokete_classes.classes.PlayMap</li>
<li>scrap_engine.Map</li>
</ul>
</dd>
<dt id="pokete.Water"><code class="flex name class">
<span>class <span class="ident">Water</span></span>
<span>(</span><span>string, poke_args)</span>
</code></dt>
<dd>
<div class="desc"><p>Same as Meadow, but for Water</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Water(Meadow):
    &#34;&#34;&#34;Same as Meadow, but for Water&#34;&#34;&#34;
    esccode = Color.blue</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pokete.Meadow" href="#pokete.Meadow">Meadow</a></li>
<li>scrap_engine.Text</li>
<li>scrap_engine.ObjectGroup</li>
<li>scrap_engine.AddableObject</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="pokete.Water.esccode"><code class="name">var <span class="ident">esccode</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="pokete.autosave" href="#pokete.autosave">autosave</a></code></li>
<li><code><a title="pokete.check_version" href="#pokete.check_version">check_version</a></code></li>
<li><code><a title="pokete.check_walk_back" href="#pokete.check_walk_back">check_walk_back</a></code></li>
<li><code><a title="pokete.codes" href="#pokete.codes">codes</a></code></li>
<li><code><a title="pokete.exiter" href="#pokete.exiter">exiter</a></code></li>
<li><code><a title="pokete.fight" href="#pokete.fight">fight</a></code></li>
<li><code><a title="pokete.game" href="#pokete.game">game</a></code></li>
<li><code><a title="pokete.gen_maps" href="#pokete.gen_maps">gen_maps</a></code></li>
<li><code><a title="pokete.gen_obs" href="#pokete.gen_obs">gen_obs</a></code></li>
<li><code><a title="pokete.heal" href="#pokete.heal">heal</a></code></li>
<li><code><a title="pokete.intro" href="#pokete.intro">intro</a></code></li>
<li><code><a title="pokete.main" href="#pokete.main">main</a></code></li>
<li><code><a title="pokete.map_additions" href="#pokete.map_additions">map_additions</a></code></li>
<li><code><a title="pokete.on_press" href="#pokete.on_press">on_press</a></code></li>
<li><code><a title="pokete.parse_obj" href="#pokete.parse_obj">parse_obj</a></code></li>
<li><code><a title="pokete.read_save" href="#pokete.read_save">read_save</a></code></li>
<li><code><a title="pokete.reset_terminal" href="#pokete.reset_terminal">reset_terminal</a></code></li>
<li><code><a title="pokete.save" href="#pokete.save">save</a></code></li>
<li><code><a title="pokete.swap_poke" href="#pokete.swap_poke">swap_poke</a></code></li>
<li><code><a title="pokete.teleport" href="#pokete.teleport">teleport</a></code></li>
<li><code><a title="pokete.test" href="#pokete.test">test</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pokete.CenterDor" href="#pokete.CenterDor">CenterDor</a></code></h4>
<ul class="">
<li><code><a title="pokete.CenterDor.action" href="#pokete.CenterDor.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.CenterInteract" href="#pokete.CenterInteract">CenterInteract</a></code></h4>
<ul class="">
<li><code><a title="pokete.CenterInteract.action" href="#pokete.CenterInteract.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.CenterMap" href="#pokete.CenterMap">CenterMap</a></code></h4>
</li>
<li>
<h4><code><a title="pokete.ChanceDor" href="#pokete.ChanceDor">ChanceDor</a></code></h4>
</li>
<li>
<h4><code><a title="pokete.Debug" href="#pokete.Debug">Debug</a></code></h4>
<ul class="">
<li><code><a title="pokete.Debug.pos" href="#pokete.Debug.pos">pos</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Deck" href="#pokete.Deck">Deck</a></code></h4>
<ul class="">
<li><code><a title="pokete.Deck.add_all" href="#pokete.Deck.add_all">add_all</a></code></li>
<li><code><a title="pokete.Deck.control" href="#pokete.Deck.control">control</a></code></li>
<li><code><a title="pokete.Deck.rem_pokes" href="#pokete.Deck.rem_pokes">rem_pokes</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Dor" href="#pokete.Dor">Dor</a></code></h4>
<ul class="">
<li><code><a title="pokete.Dor.action" href="#pokete.Dor.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.DorToCenter" href="#pokete.DorToCenter">DorToCenter</a></code></h4>
<ul class="">
<li><code><a title="pokete.DorToCenter.action" href="#pokete.DorToCenter.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.DorToShop" href="#pokete.DorToShop">DorToShop</a></code></h4>
</li>
<li>
<h4><code><a title="pokete.ExtraActions" href="#pokete.ExtraActions">ExtraActions</a></code></h4>
<ul class="two-column">
<li><code><a title="pokete.ExtraActions.playmap_11" href="#pokete.ExtraActions.playmap_11">playmap_11</a></code></li>
<li><code><a title="pokete.ExtraActions.playmap_18" href="#pokete.ExtraActions.playmap_18">playmap_18</a></code></li>
<li><code><a title="pokete.ExtraActions.playmap_21" href="#pokete.ExtraActions.playmap_21">playmap_21</a></code></li>
<li><code><a title="pokete.ExtraActions.playmap_4" href="#pokete.ExtraActions.playmap_4">playmap_4</a></code></li>
<li><code><a title="pokete.ExtraActions.playmap_7" href="#pokete.ExtraActions.playmap_7">playmap_7</a></code></li>
<li><code><a title="pokete.ExtraActions.water" href="#pokete.ExtraActions.water">water</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Figure" href="#pokete.Figure">Figure</a></code></h4>
<ul class="two-column">
<li><code><a title="pokete.Figure.add_money" href="#pokete.Figure.add_money">add_money</a></code></li>
<li><code><a title="pokete.Figure.add_poke" href="#pokete.Figure.add_poke">add_poke</a></code></li>
<li><code><a title="pokete.Figure.get_money" href="#pokete.Figure.get_money">get_money</a></code></li>
<li><code><a title="pokete.Figure.give_item" href="#pokete.Figure.give_item">give_item</a></code></li>
<li><code><a title="pokete.Figure.has_item" href="#pokete.Figure.has_item">has_item</a></code></li>
<li><code><a title="pokete.Figure.remove_item" href="#pokete.Figure.remove_item">remove_item</a></code></li>
<li><code><a title="pokete.Figure.set_args" href="#pokete.Figure.set_args">set_args</a></code></li>
<li><code><a title="pokete.Figure.set_money" href="#pokete.Figure.set_money">set_money</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.HightGrass" href="#pokete.HightGrass">HightGrass</a></code></h4>
<ul class="">
<li><code><a title="pokete.HightGrass.action" href="#pokete.HightGrass.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Inv" href="#pokete.Inv">Inv</a></code></h4>
<ul class="">
<li><code><a title="pokete.Inv.add" href="#pokete.Inv.add">add</a></code></li>
<li><code><a title="pokete.Inv.rem_item" href="#pokete.Inv.rem_item">rem_item</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Meadow" href="#pokete.Meadow">Meadow</a></code></h4>
<ul class="">
<li><code><a title="pokete.Meadow.esccode" href="#pokete.Meadow.esccode">esccode</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Menu" href="#pokete.Menu">Menu</a></code></h4>
</li>
<li>
<h4><code><a title="pokete.NPCActions" href="#pokete.NPCActions">NPCActions</a></code></h4>
<ul class="two-column">
<li><code><a title="pokete.NPCActions.heal" href="#pokete.NPCActions.heal">heal</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_10_old_man" href="#pokete.NPCActions.playmap_10_old_man">playmap_10_old_man</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_17_boy" href="#pokete.NPCActions.playmap_17_boy">playmap_17_boy</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_20_trader" href="#pokete.NPCActions.playmap_20_trader">playmap_20_trader</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_23_npc_8" href="#pokete.NPCActions.playmap_23_npc_8">playmap_23_npc_8</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_29_ld_man" href="#pokete.NPCActions.playmap_29_ld_man">playmap_29_ld_man</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_32_npc_12" href="#pokete.NPCActions.playmap_32_npc_12">playmap_32_npc_12</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_36_npc_14" href="#pokete.NPCActions.playmap_36_npc_14">playmap_36_npc_14</a></code></li>
<li><code><a title="pokete.NPCActions.playmap_37_npc_15" href="#pokete.NPCActions.playmap_37_npc_15">playmap_37_npc_15</a></code></li>
<li><code><a title="pokete.NPCActions.swap_poke" href="#pokete.NPCActions.swap_poke">swap_poke</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.Poketeball" href="#pokete.Poketeball">Poketeball</a></code></h4>
<ul class="">
<li><code><a title="pokete.Poketeball.action" href="#pokete.Poketeball.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.ShopInteract" href="#pokete.ShopInteract">ShopInteract</a></code></h4>
<ul class="">
<li><code><a title="pokete.ShopInteract.action" href="#pokete.ShopInteract.action">action</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pokete.ShopMap" href="#pokete.ShopMap">ShopMap</a></code></h4>
</li>
<li>
<h4><code><a title="pokete.Water" href="#pokete.Water">Water</a></code></h4>
<ul class="">
<li><code><a title="pokete.Water.esccode" href="#pokete.Water.esccode">esccode</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>